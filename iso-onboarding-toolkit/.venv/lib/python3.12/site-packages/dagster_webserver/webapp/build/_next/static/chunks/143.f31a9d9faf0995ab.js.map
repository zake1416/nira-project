{"version":3,"file":"static/chunks/143.f31a9d9faf0995ab.js","mappings":"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","sources":["webpack://_N_E/../ui-core/src/ticks/TickLogDialog.tsx","webpack://_N_E/../ui-core/src/schedules/ScheduleAssetSelectionsQuery.tsx","webpack://_N_E/../ui-components/src/components/Page.tsx","webpack://_N_E/../ui-core/src/ticks/TickStatusTag.tsx","webpack://_N_E/../ui-core/src/automation/AutomationAssetSelectionFragment.tsx","webpack://_N_E/../ui-core/src/instigation/LiveTickTimeline2.tsx","webpack://_N_E/../ui-core/src/ticks/RunRequestFragment.tsx","webpack://_N_E/../ui-core/src/automation/AutomationTargetList.tsx","webpack://_N_E/../ui-core/src/util/buildExecutionParamsList.ts","webpack://_N_E/../ui-core/src/ticks/DryRunRequestTable.tsx","webpack://_N_E/../ui-core/src/instigation/TickHistory.tsx","webpack://_N_E/../ui-core/src/sensors/SensorFragment.tsx","webpack://_N_E/../ui-core/src/sensors/SensorInfo.tsx","webpack://_N_E/../ui-core/src/sensors/SensorPreviousRuns.tsx","webpack://_N_E/../ui-core/src/sensors/SensorRoot.tsx","webpack://_N_E/../ui-core/src/launchpad/useLaunchMultipleRunsWithTelemetry.ts","webpack://_N_E/../ui-core/src/instigation/util.ts","webpack://_N_E/../ui-core/src/sensors/SensorAlertDetails.oss.tsx","webpack://_N_E/../ui-core/src/sensors/SensorMonitoredAssets.tsx","webpack://_N_E/../ui-core/src/sensors/SensorResetButton.tsx","webpack://_N_E/../ui-core/src/ticks/DynamicPartitionRequests.tsx","webpack://_N_E/../ui-core/src/ticks/SensorDryRunDialog.tsx","webpack://_N_E/../ui-core/src/ticks/EvaluateTickButtonSensor.tsx","webpack://_N_E/../ui-core/src/sensors/SensorDetails.tsx"],"sourcesContent":["import {\n  Box,\n  Button,\n  Colors,\n  Dialog,\n  DialogFooter,\n  ExternalAnchorButton,\n  Icon,\n  NonIdealState,\n  SpinnerWithText,\n} from '@dagster-io/ui-components';\n\nimport {INSTIGATION_EVENT_LOG_FRAGMENT, InstigationEventLogTable} from './InstigationEventLogTable';\nimport {gql, useQuery} from '../apollo-client';\nimport {TickLogEventsQuery, TickLogEventsQueryVariables} from './types/TickLogDialog.types';\nimport {InstigationSelector} from '../graphql/types';\nimport {TimestampDisplay} from '../schedules/TimestampDisplay';\n\nexport const TickLogDialog = ({\n  tickId,\n  timestamp,\n  instigationSelector,\n  isOpen,\n  onClose,\n}: {\n  tickId: string | null;\n  timestamp?: number;\n  instigationSelector: InstigationSelector;\n  isOpen: boolean;\n  onClose: () => void;\n}) => {\n  return (\n    <Dialog\n      isOpen={isOpen}\n      onClose={onClose}\n      style={{width: '70vw', maxWidth: '1200px', minWidth: '800px'}}\n      title={\n        <span>\n          {timestamp ? (\n            <span>\n              <span>Logs for {instigationSelector.name}: </span>\n              <TimestampDisplay timestamp={timestamp} timeFormat={{showSeconds: true}} />\n            </span>\n          ) : (\n            <span>Logs for {instigationSelector.name}</span>\n          )}\n        </span>\n      }\n    >\n      {tickId ? (\n        <QueryfulTickLogsTable instigationSelector={instigationSelector} tickId={tickId} />\n      ) : null}\n      {/* Use z-index to force the footer to sit above the lines of the logs table */}\n      <Box background={Colors.backgroundDefault()} style={{zIndex: 3, position: 'relative'}}>\n        <DialogFooter topBorder>\n          <Button onClick={onClose}>Done</Button>\n        </DialogFooter>\n      </Box>\n    </Dialog>\n  );\n};\n\ninterface TickLogTableProps {\n  tickId: string;\n  instigationSelector: InstigationSelector;\n}\n\nexport const QueryfulTickLogsTable = ({instigationSelector, tickId}: TickLogTableProps) => {\n  const {data, loading} = useQuery<TickLogEventsQuery, TickLogEventsQueryVariables>(\n    TICK_LOG_EVENTS_QUERY,\n    {\n      variables: {instigationSelector, tickId},\n      notifyOnNetworkStatusChange: true,\n    },\n  );\n\n  const events =\n    data?.instigationStateOrError.__typename === 'InstigationState' &&\n    data?.instigationStateOrError.tick\n      ? data?.instigationStateOrError.tick.logEvents.events\n      : undefined;\n\n  if (loading) {\n    return (\n      <Box style={{height: 500}} flex={{justifyContent: 'center', alignItems: 'center'}}>\n        <SpinnerWithText label=\"Loading logs\" />\n      </Box>\n    );\n  }\n\n  if (events && events.length) {\n    return (\n      <Box style={{height: 500}} flex={{direction: 'column'}}>\n        <InstigationEventLogTable events={events} />\n      </Box>\n    );\n  }\n\n  const tickStatus =\n    data?.instigationStateOrError.__typename === 'InstigationState'\n      ? data?.instigationStateOrError.tick.status\n      : undefined;\n  const instigationType =\n    data?.instigationStateOrError.__typename === 'InstigationState'\n      ? data?.instigationStateOrError.instigationType\n      : undefined;\n  const instigationLoggingDocsUrl =\n    instigationType === 'SENSOR'\n      ? 'https://docs.dagster.io/concepts/partitions-schedules-sensors/sensors#logging-in-sensors'\n      : instigationType === 'SCHEDULE'\n        ? 'https://docs.dagster.io/concepts/partitions-schedules-sensors/schedules#logging-in-schedules'\n        : undefined;\n\n  return (\n    <Box\n      style={{height: 500}}\n      flex={{justifyContent: 'center', alignItems: 'center'}}\n      padding={{vertical: 48}}\n    >\n      <NonIdealState\n        icon=\"no-results\"\n        title=\"No logs to display\"\n        description={\n          <Box flex={{direction: 'column', gap: 12}}>\n            <div>\n              Your evaluation did not emit any logs. To learn how to emit logs in your evaluation,\n              visit the documentation for more information.\n            </div>\n            {tickStatus === 'FAILURE' && (\n              <>\n                <div>\n                  For failed evaluations, logs will only be displayed if your Dagster and Dagster\n                  Cloud agent versions 1.5.14 or higher.\n                </div>\n                <div>Upgrade your Dagster versions to view logs for failed evaluations.</div>\n              </>\n            )}\n          </Box>\n        }\n        action={\n          instigationLoggingDocsUrl && (\n            <ExternalAnchorButton\n              href={instigationLoggingDocsUrl}\n              rightIcon={<Icon name=\"open_in_new\" />}\n            >\n              View documentation\n            </ExternalAnchorButton>\n          )\n        }\n      />\n    </Box>\n  );\n};\n\nconst TICK_LOG_EVENTS_QUERY = gql`\n  query TickLogEventsQuery($instigationSelector: InstigationSelector!, $tickId: ID!) {\n    instigationStateOrError(instigationSelector: $instigationSelector) {\n      ... on InstigationState {\n        id\n        instigationType\n        tick(tickId: $tickId) {\n          id\n          status\n          timestamp\n          logEvents {\n            events {\n              ...InstigationEventLog\n            }\n          }\n        }\n      }\n    }\n  }\n  ${INSTIGATION_EVENT_LOG_FRAGMENT}\n`;\n","import {gql} from '../apollo-client';\nimport {PYTHON_ERROR_FRAGMENT} from '../app/PythonErrorFragment';\nimport {AUTOMATION_ASSET_SELECTION_FRAGMENT} from '../automation/AutomationAssetSelectionFragment';\n\nexport const SCHEDULE_ASSET_SELECTIONS_QUERY = gql`\n  query ScheduleAssetSelectionQuery($scheduleSelector: ScheduleSelector!) {\n    scheduleOrError(scheduleSelector: $scheduleSelector) {\n      ... on Schedule {\n        id\n        assetSelection {\n          ...AutomationAssetSelectionFragment\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ${AUTOMATION_ASSET_SELECTION_FRAGMENT}\n  ${PYTHON_ERROR_FRAGMENT}\n`;\n","import styled from 'styled-components';\n\nexport const Page = styled.div`\n  height: 100%;\n  overflow-y: auto;\n  padding-bottom: 64px;\n  width: 100%;\n`;\n","import {\n  BaseTag,\n  Box,\n  Button,\n  ButtonLink,\n  Colors,\n  Dialog,\n  DialogBody,\n  DialogFooter,\n  Tag,\n  Tooltip,\n  ifPlural,\n} from '@dagster-io/ui-components';\nimport {useMemo, useState} from 'react';\n\nimport {PythonErrorInfo} from '../app/PythonErrorInfo';\nimport {InstigationTickStatus} from '../graphql/types';\nimport {HistoryTickFragment} from '../instigation/types/InstigationUtils.types';\n\nexport type TickResultType = 'runs' | 'materializations';\n\ntype PropsForMaterializations = {\n  tick: Pick<HistoryTickFragment, 'status' | 'requestedAssetMaterializationCount' | 'error'>;\n  tickResultType: 'materializations';\n  isStuckStarted?: boolean;\n};\n\ntype PropsForRuns = {\n  tick: Pick<HistoryTickFragment, 'status' | 'skipReason' | 'runIds' | 'runKeys' | 'error'>;\n  tickResultType: 'runs';\n  isStuckStarted?: boolean;\n};\n\nexport const TickStatusTag = ({\n  tick,\n  tickResultType,\n  isStuckStarted,\n}: PropsForMaterializations | PropsForRuns) => {\n  const [showErrors, setShowErrors] = useState(false);\n  const tag = useMemo(() => {\n    const requestedItem = tickResultType === 'materializations' ? 'materialization' : 'run';\n    switch (tick.status) {\n      case InstigationTickStatus.STARTED:\n        return (\n          <Tag intent=\"primary\" icon={isStuckStarted ? undefined : 'spinner'}>\n            {isStuckStarted ? 'In progress' : 'Evaluating'}\n          </Tag>\n        );\n      case InstigationTickStatus.SKIPPED:\n        const tag = (\n          <BaseTag\n            fillColor={Colors.backgroundLighter()}\n            label={\n              tickResultType === 'materializations'\n                ? '0 materializations requested'\n                : '0 runs requested'\n            }\n          />\n        );\n        if ('runKeys' in tick && tick.runKeys.length) {\n          const message = `${tick.runKeys.length} runs requested, but skipped because the runs already exist for the requested keys.`;\n          return (\n            <Tooltip position=\"right\" content={message}>\n              {tag}\n            </Tooltip>\n          );\n        }\n        if ('skipReason' in tick && tick.skipReason) {\n          return (\n            <Tooltip position=\"right\" content={tick.skipReason}>\n              {tag}\n            </Tooltip>\n          );\n        }\n        return tag;\n      case InstigationTickStatus.FAILURE:\n        return (\n          <Box flex={{direction: 'row', alignItems: 'center', gap: 6}}>\n            <Tag intent=\"danger\">Failure</Tag>\n            {tick.error ? (\n              <ButtonLink\n                onClick={() => {\n                  setShowErrors(true);\n                }}\n              >\n                View\n              </ButtonLink>\n            ) : null}\n          </Box>\n        );\n      case InstigationTickStatus.SUCCESS:\n        const count =\n          tickResultType === 'materializations'\n            ? tick.requestedAssetMaterializationCount\n            : tick.runIds.length;\n        const successTag = (\n          <Tag intent=\"success\">\n            {count} {requestedItem}\n            {ifPlural(count, '', 's')} requested\n          </Tag>\n        );\n        if ('runKeys' in tick && tick.runKeys.length > tick.runIds.length) {\n          const message = `${tick.runKeys.length} runs requested, but ${\n            tick.runKeys.length - tick.runIds.length\n          } skipped because the runs already exist for those requested keys.`;\n          return (\n            <Tooltip position=\"right\" content={message}>\n              {successTag}\n            </Tooltip>\n          );\n        }\n        return successTag;\n    }\n  }, [isStuckStarted, tick, tickResultType]);\n\n  return (\n    <>\n      {tag}\n      {tick.error ? (\n        <Dialog isOpen={showErrors} title=\"Error\" style={{width: '80vw'}}>\n          <DialogBody>\n            <PythonErrorInfo error={tick.error} />\n          </DialogBody>\n          <DialogFooter topBorder>\n            <Button\n              intent=\"primary\"\n              onClick={() => {\n                setShowErrors(false);\n              }}\n            >\n              Close\n            </Button>\n          </DialogFooter>\n        </Dialog>\n      ) : null}\n    </>\n  );\n};\n","import {gql} from '../apollo-client';\nimport {PYTHON_ERROR_FRAGMENT} from '../app/PythonErrorFragment';\n\nexport const AUTOMATION_ASSET_SELECTION_FRAGMENT = gql`\n  fragment AutomationAssetSelectionFragment on AssetSelection {\n    assetSelectionString\n    assetChecks {\n      name\n      assetKey {\n        path\n      }\n    }\n    assetsOrError {\n      ... on AssetConnection {\n        nodes {\n          id\n          ...AssetSelectionNodeFragment\n        }\n      }\n      ... on PythonError {\n        ...PythonErrorFragment\n      }\n    }\n  }\n\n  fragment AssetSelectionNodeFragment on Asset {\n    id\n    key {\n      path\n    }\n    definition {\n      id\n      automationCondition {\n        __typename\n      }\n    }\n  }\n\n  ${PYTHON_ERROR_FRAGMENT}\n`;\n","import {Caption, Colors, Tooltip, ifPlural, useViewport} from '@dagster-io/ui-components';\nimport dayjs from 'dayjs';\nimport {memo, useEffect, useMemo, useState} from 'react';\nimport styled from 'styled-components';\n\nimport {Timestamp} from '../app/time/Timestamp';\nimport {TickResultType} from '../ticks/TickStatusTag';\nimport {HistoryTickFragment} from './types/InstigationUtils.types';\nimport {isStuckStartedTick} from './util';\nimport {AssetDaemonTickFragment} from '../assets/auto-materialization/types/AssetDaemonTicksQuery.types';\nimport {InstigationTickStatus} from '../graphql/types';\n\nimport '../util/dayjsExtensions';\n\nconst COLOR_MAP = {\n  [InstigationTickStatus.SUCCESS]: Colors.accentGreen(),\n  [InstigationTickStatus.FAILURE]: Colors.accentRed(),\n  [InstigationTickStatus.STARTED]: Colors.accentLavender(),\n  [InstigationTickStatus.SKIPPED]: Colors.backgroundDisabled(),\n};\n\nconst HoverColorMap = {\n  [InstigationTickStatus.SUCCESS]: Colors.accentGreenHover(),\n  [InstigationTickStatus.FAILURE]: Colors.accentRedHover(),\n  [InstigationTickStatus.STARTED]: Colors.accentLavenderHover(),\n  [InstigationTickStatus.SKIPPED]: Colors.accentGrayHover(),\n};\n\nconst REFRESH_INTERVAL = 100;\n\nconst MIN_WIDTH = 8; // At least 8px wide\n\nconst MINUTE = 60000;\n\nexport const LiveTickTimeline = <T extends HistoryTickFragment | AssetDaemonTickFragment>({\n  ticks,\n  tickResultType,\n  onHoverTick,\n  onSelectTick,\n  exactRange,\n  timeRange = MINUTE * 5, // 5 minutes,\n  tickGrid = MINUTE, // 1 minute\n  timeAfter = MINUTE, // 1 minute\n}: {\n  ticks: T[];\n  tickResultType: TickResultType;\n  onHoverTick: (InstigationTick?: T) => void;\n  onSelectTick: (InstigationTick: T) => void;\n  exactRange?: [number, number];\n  timeRange?: number;\n  tickGrid?: number;\n  timeAfter?: number;\n}) => {\n  const [now, setNow] = useState<number>(Date.now());\n  const [isPaused, setPaused] = useState<boolean>(false);\n\n  useEffect(() => {\n    if (!isPaused && !exactRange) {\n      const interval = setInterval(() => {\n        setNow(Date.now());\n      }, REFRESH_INTERVAL);\n      return () => clearInterval(interval);\n    }\n    return () => {};\n  }, [exactRange, isPaused]);\n\n  const maxX = exactRange?.[1] ? exactRange[1] * 1000 : now + timeAfter;\n  const minX = exactRange?.[0] ? exactRange[0] * 1000 : now - timeRange;\n  const showNowLine = minX < now && now < maxX;\n\n  const fullRange = maxX - minX;\n\n  const {viewport, containerProps} = useViewport();\n\n  const ticksReversed = useMemo(() => {\n    // Reverse ticks to make tab order correct\n    return ticks.filter((tick) => !tick.endTimestamp || tick.endTimestamp * 1000 > minX).reverse();\n  }, [ticks, minX]);\n\n  const ticksToDisplay = useMemo(() => {\n    return ticksReversed.map((tick, i) => {\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      const startX = getX(1000 * tick.timestamp!, viewport.width, minX, fullRange);\n      const endTimestamp = isStuckStartedTick(tick, ticksReversed.length - i - 1)\n        ? tick.timestamp\n        : tick.endTimestamp\n          ? tick.endTimestamp * 1000\n          : now;\n      const endX = getX(endTimestamp, viewport.width, minX, fullRange);\n      return {\n        ...tick,\n        width: Math.max(endX - startX, MIN_WIDTH),\n        startX,\n      };\n    });\n  }, [minX, now, ticksReversed, fullRange, viewport.width]);\n\n  const timeTickGridDelta = Math.max((maxX - minX) / 25, tickGrid);\n  const tickGridDelta = timeTickGridDelta / 5;\n  const startTickGridX = Math.ceil(minX / tickGridDelta) * tickGridDelta;\n  const numTicks = Math.ceil((maxX - startTickGridX) / tickGridDelta);\n  const numLabels = Math.ceil(numTicks / 5);\n\n  const gridTicks = useMemo(() => {\n    const ticks = [];\n    for (let ii = 0; ii < numTicks; ii++) {\n      const time = startTickGridX + ii * tickGridDelta;\n      ticks.push({\n        time,\n        x: getX(time, viewport.width, minX, fullRange),\n        showLabel: ii % numLabels === 0,\n      });\n    }\n    return ticks;\n  }, [numTicks, startTickGridX, tickGridDelta, viewport.width, minX, fullRange, numLabels]);\n\n  return (\n    <div style={{marginRight: '8px'}}>\n      <div {...containerProps}>\n        <TicksWrapper>\n          {gridTicks.map((tick) => (\n            <GridTick\n              key={tick.time}\n              style={{\n                transform: `translateX(${tick.x}px)`,\n              }}\n            >\n              <GridTickLine />\n              {tick.showLabel ? (\n                <GridTickTime>\n                  <Caption>\n                    <Timestamp timestamp={{ms: tick.time}} timeFormat={{showSeconds: true}} />\n                  </Caption>\n                </GridTickTime>\n              ) : null}\n            </GridTick>\n          ))}\n          {ticksToDisplay.map((tick) => {\n            const count =\n              (tickResultType === 'materializations' || !('runIds' in tick)\n                ? tick.requestedAssetMaterializationCount\n                : tick.runIds?.length) ?? 0;\n            return (\n              <Tick\n                key={tick.id}\n                style={{\n                  transform: `translateX(${tick.startX}px)`,\n                  width: `${tick.width}px`,\n                }}\n                status={tick.status}\n                onMouseEnter={() => {\n                  onHoverTick(tick);\n                  setPaused(true);\n                }}\n                onMouseLeave={() => {\n                  onHoverTick();\n                  setPaused(false);\n                }}\n                onClick={() => {\n                  onSelectTick(tick);\n                }}\n              >\n                <Tooltip content={<TickTooltip tick={tick} tickResultType={tickResultType} />}>\n                  <div style={{width: tick.width + 'px', height: '80px'}}>\n                    {count > 0 ? count : null}\n                  </div>\n                </Tooltip>\n              </Tick>\n            );\n          })}\n          {showNowLine ? (\n            <NowIndicator\n              style={{\n                transform: `translateX(${getX(now, viewport.width, minX, fullRange)}px)`,\n              }}\n            />\n          ) : null}\n        </TicksWrapper>\n        <TimeAxisWrapper></TimeAxisWrapper>\n      </div>\n    </div>\n  );\n};\n\nconst TickTooltip = memo(\n  ({\n    tick,\n    tickResultType,\n  }: {\n    tick: HistoryTickFragment | AssetDaemonTickFragment;\n    tickResultType: TickResultType;\n  }) => {\n    const status = useMemo(() => {\n      if (tick.status === InstigationTickStatus.FAILURE) {\n        return 'Evaluation failed';\n      }\n      if (tick.status === InstigationTickStatus.STARTED) {\n        return 'Evaluating';\n      }\n      if (tickResultType === 'materializations' || !('runs' in tick)) {\n        return `${tick.requestedAssetMaterializationCount} materialization${ifPlural(\n          tick.requestedAssetMaterializationCount,\n          '',\n          's',\n        )} requested`;\n      } else {\n        return `${tick.runs?.length || 0} run${ifPlural(tick.runs?.length, '', 's')} requested`;\n      }\n    }, [tick, tickResultType]);\n\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const startTime = dayjs(1000 * tick.timestamp!);\n    const endTime = dayjs(tick.endTimestamp ? 1000 * tick.endTimestamp : Date.now());\n    const elapsedTime = startTime.to(endTime, true);\n\n    return (\n      <div>\n        <Caption as=\"div\">\n          <Timestamp timestamp={{unix: tick.timestamp}} timeFormat={{showSeconds: true}} />\n        </Caption>\n        <Caption as=\"div\">\n          {status} ({elapsedTime})\n        </Caption>\n        {tick.status === InstigationTickStatus.STARTED ? null : (\n          <Caption color={Colors.textLight()}>Click for details</Caption>\n        )}\n      </div>\n    );\n  },\n);\n\nconst TicksWrapper = styled.div`\n  position: relative;\n  height: 100px;\n  padding: 10px 2px;\n  border-bottom: 1px solid ${Colors.keylineDefault()};\n`;\n\nconst TimeAxisWrapper = styled.div`\n  height: 24px;\n`;\n\nconst Tick = styled.div<{status: InstigationTickStatus}>`\n  cursor: pointer;\n  position: absolute;\n  top: 10px;\n  height: 80px;\n  will-change: transform, width;\n  border-radius: 2px;\n  div {\n    place-content: center;\n    display: grid;\n  }\n  color: ${Colors.backgroundDefault()};\n  ${({status}) => `\n    background: ${COLOR_MAP[status]};\n    &:hover {\n      background: ${HoverColorMap[status]};\n    }\n  `}\n`;\n\nconst GridTick = styled.div`\n  position: absolute;\n  top: 0;\n  height: 124px;\n  will-change: transform;\n`;\nconst GridTickLine = styled.div`\n  position: absolute;\n  top: 0;\n  height: 108px;\n  width: 1px;\n  background: ${Colors.keylineDefault()};\n`;\nconst GridTickTime = styled.div`\n  height: 16px;\n  position: absolute;\n  bottom: 0;\n  width: 100px;\n  margin-left: -24px;\n`;\n\nconst NowIndicator = styled.div`\n  position: absolute;\n  top: 0;\n  height: 126px;\n  width: 2px;\n  background: ${Colors.accentPrimary()};\n  &:after {\n    content: 'Now';\n    position: absolute;\n    left: 0;\n    background: ${Colors.accentPrimary()};\n    color: ${Colors.accentReversed()};\n    bottom: 0;\n    font-size: 12px;\n    padding: 3px 4px;\n  }\n`;\n\nfunction getX(timestamp: number, viewportWidth: number, minX: number, timeRange: number) {\n  return (viewportWidth * (timestamp - minX)) / timeRange;\n}\n","import {gql} from '../apollo-client';\n\nexport const RUN_REQUEST_FRAGMENT = gql`\n  fragment RunRequestFragment on RunRequest {\n    runConfigYaml\n    tags {\n      key\n      value\n    }\n    runKey\n    jobName\n    assetSelection {\n      path\n    }\n    assetChecks {\n      name\n      assetKey {\n        path\n      }\n    }\n  }\n`;\n","import {\n  Box,\n  Button,\n  ButtonLink,\n  Colors,\n  Dialog,\n  DialogFooter,\n  Mono,\n  Subtitle2,\n  Tab,\n  Tabs,\n  Tag,\n} from '@dagster-io/ui-components';\nimport {useEffect, useMemo, useState} from 'react';\nimport {Link} from 'react-router-dom';\n\nimport {\n  labelForAssetCheck,\n  renderItemAssetCheck,\n  renderItemAssetKey,\n  sortItemAssetCheck,\n  sortItemAssetKey,\n} from '../assets/AssetListUtils';\nimport {VirtualizedItemListForDialog} from '../ui/VirtualizedItemListForDialog';\nimport {AutomationAssetSelectionFragment} from './types/AutomationAssetSelectionFragment.types';\nimport {showCustomAlert} from '../app/CustomAlertProvider';\nimport {PythonErrorInfo} from '../app/PythonErrorInfo';\nimport {displayNameForAssetKey, isHiddenAssetGroupJob} from '../asset-graph/Utils';\nimport {\n  assetDetailsPathForAssetCheck,\n  assetDetailsPathForKey,\n} from '../assets/assetDetailsPathForKey';\nimport {SensorType} from '../graphql/types';\nimport {PipelineReference} from '../pipelines/PipelineReference';\nimport {isThisThingAJob, useRepository} from '../workspace/WorkspaceContext/util';\nimport {RepoAddress} from '../workspace/types';\n\ntype AutomationType = 'schedule' | SensorType;\n\nexport const AutomationTargetList = ({\n  assetSelection,\n  automationType,\n  targets,\n  repoAddress,\n}: {\n  automationType: AutomationType;\n  repoAddress: RepoAddress;\n  targets: {pipelineName: string}[] | null;\n  assetSelection: AutomationAssetSelectionFragment | null;\n}) => {\n  const repo = useRepository(repoAddress);\n  if (!targets && !assetSelection) {\n    return <span />;\n  }\n\n  const visibleTargets = targets?.filter((target) => !isHiddenAssetGroupJob(target.pipelineName));\n\n  if (assetSelection) {\n    return <AssetSelectionTag assetSelection={assetSelection} automationType={automationType} />;\n  }\n\n  if (visibleTargets?.length) {\n    return (\n      <Box flex={{direction: 'row', gap: 4}}>\n        {visibleTargets.map((target) =>\n          target.pipelineName ? (\n            <Tag icon=\"job\" tooltipText={target.pipelineName} key={target.pipelineName}>\n              <PipelineReference\n                key={target.pipelineName}\n                pipelineName={target.pipelineName}\n                pipelineHrefContext={repoAddress}\n                isJob={!!(repo && isThisThingAJob(repo, target.pipelineName))}\n              />\n            </Tag>\n          ) : null,\n        )}\n      </Box>\n    );\n  }\n\n  return (\n    <Tag>\n      <div style={{color: Colors.textLight()}}>None</div>\n    </Tag>\n  );\n};\n\nconst ALL_ASSETS_STRING = 'all materializable assets';\n\nconst AssetSelectionTag = ({\n  assetSelection,\n  automationType,\n}: {\n  assetSelection: AutomationAssetSelectionFragment;\n  automationType: AutomationType;\n}) => {\n  const [showDialog, setShowDialog] = useState(false);\n\n  const error =\n    assetSelection.assetsOrError.__typename === 'PythonError' ? assetSelection.assetsOrError : null;\n\n  const {checks, assets, assetsWithAMP, assetsWithoutAMP} = useMemo(() => {\n    if (assetSelection.assetsOrError.__typename === 'PythonError') {\n      return {checks: [], assets: [], assetsWithAMP: [], assetsWithoutAMP: []};\n    }\n    const assets = assetSelection.assetsOrError.nodes;\n\n    return {\n      checks: assetSelection.assetChecks.slice().sort(sortItemAssetCheck),\n      assets: assets.map((a) => a.key).sort(sortItemAssetKey),\n      assetsWithAMP: assets\n        .filter((asset) => !!asset.definition?.automationCondition)\n        .map((a) => a.key)\n        .sort(sortItemAssetKey),\n      assetsWithoutAMP: assets\n        .filter((asset) => !asset.definition?.automationCondition)\n        .map((a) => a.key)\n        .sort(sortItemAssetKey),\n    };\n  }, [assetSelection]);\n\n  const [selectedTab, setSelectedTab] = useState('none');\n  const initialTab = checks.length && !assets.length ? 'checks' : 'assets';\n  useEffect(() => setSelectedTab(initialTab), [initialTab]);\n\n  const assetSelectionString = assetSelection.assetSelectionString || '';\n  const isAllAssets = assetSelectionString === ALL_ASSETS_STRING;\n\n  if (checks.length === 0 && assets.length === 1 && assets[0]) {\n    return (\n      <Tag icon=\"asset\">\n        <Link to={assetDetailsPathForKey(assets[0])}>{displayNameForAssetKey(assets[0])}</Link>\n      </Tag>\n    );\n  }\n\n  if (assets.length === 0 && checks.length === 1 && checks[0]) {\n    return (\n      <Tag icon=\"asset_check\">\n        <Link to={assetDetailsPathForAssetCheck(checks[0])}>{labelForAssetCheck(checks[0])}</Link>\n      </Tag>\n    );\n  }\n\n  const splitConditioned =\n    automationType === SensorType.AUTO_MATERIALIZE || automationType === SensorType.AUTOMATION;\n\n  return (\n    <>\n      <Dialog\n        isOpen={showDialog}\n        title=\"Targeted assets\"\n        onClose={() => setShowDialog(false)}\n        style={{width: '750px', maxWidth: '80vw', minWidth: '500px'}}\n        canOutsideClickClose\n        canEscapeKeyClose\n      >\n        <Box\n          flex={{direction: 'column', gap: 16}}\n          padding={{horizontal: 20, vertical: 16}}\n          border=\"bottom\"\n        >\n          <Box flex={{direction: 'column', gap: 4}}>\n            <Subtitle2>Asset selection</Subtitle2>\n            <Mono>{assetSelectionString}</Mono>\n          </Box>\n        </Box>\n\n        <Box padding={{horizontal: 20, top: 8}} border=\"bottom\">\n          <Tabs size=\"small\" selectedTabId={selectedTab}>\n            {splitConditioned ? (\n              <Tab\n                id=\"assets\"\n                title={`Assets with Automation Conditions (${assetsWithAMP.length})`}\n                onClick={() => setSelectedTab('assets')}\n              />\n            ) : (\n              <Tab\n                id=\"assets\"\n                title={`Assets (${assets.length})`}\n                onClick={() => setSelectedTab('assets')}\n              />\n            )}\n            {splitConditioned && (\n              <Tab\n                id=\"assets-without-conditions\"\n                disabled={assetsWithoutAMP.length === 0}\n                title={`Other Assets (${assetsWithoutAMP.length})`}\n                onClick={() => setSelectedTab('assets-without-conditions')}\n              />\n            )}\n            <Tab\n              id=\"checks\"\n              disabled={checks.length === 0}\n              title={`Checks ${checks.length}`}\n              onClick={() => setSelectedTab('checks')}\n            />\n          </Tabs>\n        </Box>\n        <Box flex={{direction: 'column'}} style={{maxHeight: '60vh', minHeight: '300px'}}>\n          {selectedTab === 'checks' ? (\n            <VirtualizedItemListForDialog\n              items={checks}\n              renderItem={renderItemAssetCheck}\n              itemBorders\n            />\n          ) : (\n            <VirtualizedItemListForDialog\n              items={\n                selectedTab === 'assets-without-conditions'\n                  ? assetsWithoutAMP\n                  : splitConditioned\n                    ? assetsWithAMP\n                    : assets\n              }\n              renderItem={renderItemAssetKey}\n              itemBorders\n            />\n          )}\n        </Box>\n        <DialogFooter topBorder>\n          <Button\n            intent=\"primary\"\n            onClick={() => {\n              setShowDialog(false);\n            }}\n          >\n            Close\n          </Button>\n        </DialogFooter>\n      </Dialog>\n      <Tag icon={assets.length === 1 ? 'asset' : 'asset_group'} intent={error ? 'danger' : 'none'}>\n        <ButtonLink\n          onClick={() => {\n            if (error) {\n              showCustomAlert({\n                title: 'Python error',\n                body: <PythonErrorInfo error={error} />,\n              });\n            } else {\n              setShowDialog(true);\n            }\n          }}\n          color={error ? Colors.textRed() : Colors.linkDefault()}\n        >\n          {error\n            ? 'Error loading asset selection'\n            : isAllAssets\n              ? 'All materializable assets'\n              : assetSelectionString}\n        </ButtonLink>\n      </Tag>\n    </>\n  );\n};\n","import * as yaml from 'yaml';\n\nimport {showCustomAlert} from '../app/CustomAlertProvider';\nimport {asAssetCheckHandleInput, asAssetKeyInput} from '../assets/asInput';\nimport {ExecutionParams, ScheduleSelector, SensorSelector} from '../graphql/types';\nimport {sanitizeConfigYamlString} from '../launchpad/yamlUtils';\nimport {ScheduleDryRunInstigationTick} from '../ticks/EvaluateScheduleDialog';\nimport {SensorDryRunInstigationTick} from '../ticks/SensorDryRunDialog';\n\nconst YAML_SYNTAX_INVALID = `The YAML you provided couldn't be parsed. Please fix the syntax errors and try again.`;\n\n// This helper removes __typename, which prevents tags from being passed back to GraphQL\nconst onlyKeyAndValue = ({key, value}: {key: string; value: string}) => ({key, value});\n\n// adapted from buildExecutionVariables() in LaunchpadSession.tsx\nexport const buildExecutionParamsListSensor = (\n  sensorExecutionData: SensorDryRunInstigationTick,\n  sensorSelector: SensorSelector,\n  jobName: string,\n) => {\n  if (!sensorExecutionData) {\n    return [];\n  }\n\n  const executionParamsList: ExecutionParams[] = [];\n\n  sensorExecutionData?.evaluationResult?.runRequests?.forEach((request) => {\n    const configYamlOrEmpty = sanitizeConfigYamlString(request.runConfigYaml);\n\n    try {\n      yaml.parse(configYamlOrEmpty);\n    } catch {\n      showCustomAlert({title: 'Invalid YAML', body: YAML_SYNTAX_INVALID});\n      return;\n    }\n    const {repositoryLocationName, repositoryName} = sensorSelector;\n\n    const executionParams: ExecutionParams = {\n      runConfigData: configYamlOrEmpty,\n      selector: {\n        jobName: request.jobName ?? jobName, // get jobName from runRequest, fallback to jobName\n        repositoryLocationName,\n        repositoryName,\n        assetSelection: request.assetSelection?.map(asAssetKeyInput) || [],\n        assetCheckSelection: request.assetChecks?.map(asAssetCheckHandleInput) || [],\n        solidSelection: undefined,\n      },\n      mode: 'default',\n      executionMetadata: {\n        tags: [...request.tags.map(onlyKeyAndValue)],\n      },\n    };\n    executionParamsList.push(executionParams);\n  });\n  return executionParamsList;\n};\n\n// adapted from buildExecutionVariables() in LaunchpadSession.tsx\nexport const buildExecutionParamsListSchedule = (\n  scheduleExecutionData: ScheduleDryRunInstigationTick,\n  scheduleSelector: ScheduleSelector,\n  jobName: string,\n) => {\n  if (!scheduleExecutionData) {\n    return [];\n  }\n\n  const executionParamsList: ExecutionParams[] = [];\n\n  scheduleExecutionData?.evaluationResult?.runRequests?.forEach((request) => {\n    const configYamlOrEmpty = sanitizeConfigYamlString(request.runConfigYaml);\n\n    try {\n      yaml.parse(configYamlOrEmpty);\n    } catch {\n      showCustomAlert({title: 'Invalid YAML', body: YAML_SYNTAX_INVALID});\n      return;\n    }\n    const {repositoryLocationName, repositoryName} = scheduleSelector;\n\n    const executionParams: ExecutionParams = {\n      runConfigData: configYamlOrEmpty,\n      selector: {\n        jobName: request.jobName ?? jobName, // get jobName from runRequest, fallback to jobName\n        repositoryLocationName,\n        repositoryName,\n        assetSelection: request.assetSelection?.map(asAssetKeyInput) || [],\n        assetCheckSelection: request.assetChecks?.map(asAssetCheckHandleInput) || [],\n        solidSelection: undefined,\n      },\n      mode: 'default',\n      executionMetadata: {\n        tags: [...request.tags.map(onlyKeyAndValue)],\n      },\n    };\n    executionParamsList.push(executionParams);\n  });\n  return executionParamsList;\n};\n","import {Box, Button, Colors, Icon, Table, Tooltip} from '@dagster-io/ui-components';\nimport {useState} from 'react';\n\nimport {RunConfigDialog} from '../runs/RunConfigDialog';\nimport {RunRequestFragment} from './types/RunRequestFragment.types';\nimport {PipelineReference} from '../pipelines/PipelineReference';\nimport {testId} from '../testing/testId';\nimport {useRepository} from '../workspace/WorkspaceContext/util';\nimport {RepoAddress} from '../workspace/types';\n\ntype Props = {\n  name: string;\n  runRequests: RunRequestFragment[];\n  repoAddress: RepoAddress;\n  isJob: boolean;\n  jobName: string;\n  mode?: string;\n};\n\nexport const RunRequestTable = ({runRequests, isJob, repoAddress, mode, jobName}: Props) => {\n  const repo = useRepository(repoAddress);\n  const [selectedRequest, setSelectedRequest] = useState<RunRequestFragment | null>(null);\n  const [visibleDialog, setVisibleDialog] = useState<'config' | null>(null);\n\n  const body = (\n    <tbody data-testid={testId('table-body')}>\n      {runRequests.map((request, index) => {\n        return (\n          <tr key={index} data-testid={testId(request.runKey || '')}>\n            <td style={{verticalAlign: 'middle'}}>\n              <Box flex={{alignItems: 'center', gap: 8}}>\n                <PipelineReference\n                  pipelineName={request.jobName ?? jobName}\n                  pipelineHrefContext={repoAddress}\n                  isJob={!!repo && isJob}\n                  showIcon\n                  size=\"small\"\n                />\n              </Box>\n            </td>\n            <td style={{width: '7.5%', verticalAlign: 'middle', textAlign: 'center'}}>\n              <PreviewButton\n                request={request}\n                onClick={() => {\n                  setSelectedRequest(request);\n                  setVisibleDialog('config');\n                }}\n              />\n            </td>\n          </tr>\n        );\n      })}\n      {selectedRequest && (\n        <RunConfigDialog\n          isOpen={visibleDialog === 'config'}\n          onClose={() => setVisibleDialog(null)}\n          mode={mode || null}\n          runConfigYaml={selectedRequest.runConfigYaml}\n          tags={selectedRequest.tags}\n          isJob={isJob}\n          jobName={jobName}\n          request={selectedRequest}\n          repoAddress={repoAddress}\n        />\n      )}\n    </tbody>\n  );\n  return (\n    <div>\n      <Table style={{borderRight: `1px solid ${Colors.keylineDefault()}`, tableLayout: 'fixed'}}>\n        <thead>\n          <tr>\n            <th>Target</th>\n            <th style={{width: '7.5%'}}>Actions</th>\n          </tr>\n        </thead>\n        {body}\n      </Table>\n    </div>\n  );\n};\n\nfunction PreviewButton({request, onClick}: {request: RunRequestFragment; onClick: () => void}) {\n  return (\n    <Tooltip content=\"Preview run config and tags\" placement=\"left-start\">\n      <Button\n        icon={<Icon name=\"data_object\" />}\n        onClick={onClick}\n        data-testid={testId(`preview-${request.runKey || ''}`)}\n      />\n    </Tooltip>\n  );\n}\n","import 'chartjs-adapter-date-fns';\n\nimport {\n  Box,\n  Button,\n  ButtonLink,\n  Caption,\n  CursorHistoryControls,\n  FontFamily,\n  Icon,\n  Menu,\n  MenuItem,\n  MiddleTruncate,\n  NonIdealState,\n  Select,\n  Spinner,\n  Subheading,\n  Table,\n  ifPlural,\n} from '@dagster-io/ui-components';\nimport {Chart} from 'chart.js';\nimport zoomPlugin from 'chartjs-plugin-zoom';\nimport * as React from 'react';\nimport {useState} from 'react';\nimport styled from 'styled-components';\n\nimport {TICK_TAG_FRAGMENT} from './InstigationTick';\nimport {HISTORY_TICK_FRAGMENT, RUN_STATUS_FRAGMENT, RunStatusLink} from './InstigationUtils';\nimport {LiveTickTimeline} from './LiveTickTimeline2';\nimport {TickDetailsDialog} from './TickDetailsDialog';\nimport {HistoryTickFragment} from './types/InstigationUtils.types';\nimport {TickHistoryQuery, TickHistoryQueryVariables} from './types/TickHistory.types';\nimport {countPartitionsAddedOrDeleted, isStuckStartedTick} from './util';\nimport {gql, useQuery} from '../apollo-client';\nimport {PYTHON_ERROR_FRAGMENT} from '../app/PythonErrorFragment';\nimport {PythonErrorInfo} from '../app/PythonErrorInfo';\nimport {FIFTEEN_SECONDS, useQueryRefreshAtInterval} from '../app/QueryRefresh';\nimport {\n  DynamicPartitionsRequestType,\n  InstigationSelector,\n  InstigationTickStatus,\n  InstigationType,\n} from '../graphql/types';\nimport {useQueryPersistedState} from '../hooks/useQueryPersistedState';\nimport {TimeElapsed} from '../runs/TimeElapsed';\nimport {useCursorPaginatedQuery} from '../runs/useCursorPaginatedQuery';\nimport {TimestampDisplay} from '../schedules/TimestampDisplay';\nimport {humanizeSensorCursor} from '../sensors/SensorDetails';\nimport {TickLogDialog} from '../ticks/TickLogDialog';\nimport {TickResultType, TickStatusTag} from '../ticks/TickStatusTag';\nimport {CopyIconButton} from '../ui/CopyButton';\nimport {repoAddressToSelector} from '../workspace/repoAddressToSelector';\nimport {RepoAddress} from '../workspace/types';\n\nChart.register(zoomPlugin);\n\ntype InstigationTick = HistoryTickFragment;\n\nconst PAGE_SIZE = 25;\n\nenum TickStatusDisplay {\n  ALL = 'all',\n  FAILED = 'failed',\n  SUCCESS = 'success',\n}\n\nconst STATUS_DISPLAY_MAP = {\n  [TickStatusDisplay.ALL]: [\n    InstigationTickStatus.SUCCESS,\n    InstigationTickStatus.FAILURE,\n    InstigationTickStatus.STARTED,\n    InstigationTickStatus.SKIPPED,\n  ],\n  [TickStatusDisplay.FAILED]: [InstigationTickStatus.FAILURE],\n  [TickStatusDisplay.SUCCESS]: [InstigationTickStatus.SUCCESS],\n};\n\nexport const TicksTable = ({\n  name,\n  repoAddress,\n  tabs,\n  tickResultType,\n  setTimerange,\n  setParentStatuses,\n}: {\n  name: string;\n  repoAddress: RepoAddress;\n  tickResultType: TickResultType;\n  tabs?: React.ReactElement;\n  setTimerange?: (range?: [number, number]) => void;\n  setParentStatuses?: (statuses?: InstigationTickStatus[]) => void;\n}) => {\n  const [tickStatus, setTickStatus] = useQueryPersistedState<TickStatusDisplay>({\n    queryKey: 'status',\n    defaults: {status: TickStatusDisplay.ALL},\n  });\n\n  const [showDetailsForTick, setShowDetailsForTick] = useState<HistoryTickFragment | null>(null);\n  const [showLogsForTick, setShowLogsForTick] = useState<HistoryTickFragment | null>(null);\n\n  const instigationSelector = {...repoAddressToSelector(repoAddress), name};\n  const statuses = React.useMemo(\n    () => STATUS_DISPLAY_MAP[tickStatus] || STATUS_DISPLAY_MAP[TickStatusDisplay.ALL],\n    [tickStatus],\n  );\n\n  const {queryResult, paginationProps} = useCursorPaginatedQuery<\n    TickHistoryQuery,\n    TickHistoryQueryVariables\n  >({\n    nextCursorForResult: (data) => {\n      if (data.instigationStateOrError.__typename !== 'InstigationState') {\n        return undefined;\n      }\n      return data.instigationStateOrError.ticks[PAGE_SIZE - 1]?.id;\n    },\n    getResultArray: (data) => {\n      if (!data || data.instigationStateOrError.__typename !== 'InstigationState') {\n        return [];\n      }\n      return data.instigationStateOrError.ticks;\n    },\n    variables: {\n      instigationSelector,\n      statuses,\n    },\n    query: TICK_HISTORY_QUERY,\n    pageSize: PAGE_SIZE,\n  });\n\n  useQueryRefreshAtInterval(queryResult, FIFTEEN_SECONDS);\n\n  const state = queryResult?.data?.instigationStateOrError;\n  const ticks = React.useMemo(\n    () => (state?.__typename === 'InstigationState' ? state.ticks : []),\n    [state],\n  );\n\n  React.useEffect(() => {\n    if (paginationProps.hasPrevCursor) {\n      if (ticks && ticks.length) {\n        const start = ticks[ticks.length - 1]?.timestamp;\n        const end = ticks[0]?.endTimestamp;\n        if (start && end) {\n          setTimerange?.([start, end]);\n        }\n      }\n    } else {\n      setTimerange?.(undefined);\n    }\n  }, [paginationProps.hasPrevCursor, ticks, setTimerange]);\n\n  React.useEffect(() => {\n    if (paginationProps.hasPrevCursor) {\n      setParentStatuses?.(Array.from(statuses));\n    } else {\n      setParentStatuses?.(undefined);\n    }\n  }, [paginationProps.hasPrevCursor, setParentStatuses, statuses]);\n\n  React.useEffect(() => {\n    if (paginationProps.hasPrevCursor && !ticks.length && !queryResult.loading) {\n      paginationProps.reset();\n    }\n    // paginationProps.reset isn't memoized\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [ticks, queryResult.loading, paginationProps.hasPrevCursor]);\n\n  const {data} = queryResult;\n\n  if (!data) {\n    return (\n      <Box padding={{vertical: 48}}>\n        <Spinner purpose=\"page\" />\n      </Box>\n    );\n  }\n\n  if (data.instigationStateOrError.__typename === 'PythonError') {\n    return <PythonErrorInfo error={data.instigationStateOrError} />;\n  }\n\n  if (data.instigationStateOrError.__typename === 'InstigationStateNotFoundError') {\n    return (\n      <Box padding={{vertical: 32}} flex={{justifyContent: 'center'}}>\n        <NonIdealState icon=\"no-results\" title=\"No ticks to display\" />\n      </Box>\n    );\n  }\n\n  const {instigationType} = data.instigationStateOrError;\n\n  if (!ticks.length && tickStatus === TickStatusDisplay.ALL) {\n    return null;\n  }\n\n  return (\n    <>\n      <Box padding={{vertical: 12, horizontal: 24}}>\n        <Box flex={{direction: 'row', justifyContent: 'space-between', alignItems: 'center'}}>\n          {tabs}\n          <Box flex={{direction: 'row', gap: 16}}>\n            <StatusFilter status={tickStatus} onChange={setTickStatus} />\n          </Box>\n        </Box>\n      </Box>\n      {ticks.length ? (\n        <TableWrapper>\n          <thead>\n            <tr>\n              <th style={{width: 120}}>Timestamp</th>\n              <th style={{width: 90}}>Status</th>\n              <th style={{width: 90}}>Duration</th>\n              {instigationType === InstigationType.SENSOR ? (\n                <th style={{width: 120}}>Cursor</th>\n              ) : null}\n              <th style={{width: 180}}>Result</th>\n              <th style={{width: 80}}>Logs</th>\n            </tr>\n          </thead>\n          <tbody>\n            {ticks.map((tick, index) => (\n              <TickRow\n                key={tick.id}\n                tick={tick}\n                tickResultType={tickResultType}\n                instigationSelector={instigationSelector}\n                index={index}\n                onShowDetails={setShowDetailsForTick}\n                onShowLogs={setShowLogsForTick}\n              />\n            ))}\n          </tbody>\n        </TableWrapper>\n      ) : (\n        <Box padding={{vertical: 32}} flex={{justifyContent: 'center'}}>\n          <NonIdealState icon=\"no-results\" title=\"No ticks to display\" />\n        </Box>\n      )}\n      {ticks.length > 0 ? (\n        <div style={{marginTop: '16px'}}>\n          <CursorHistoryControls {...paginationProps} />\n        </div>\n      ) : null}\n      <TickDetailsDialog\n        isOpen={!!showDetailsForTick}\n        tickId={showDetailsForTick?.tickId}\n        tickResultType={tickResultType}\n        instigationSelector={instigationSelector}\n        onClose={() => setShowDetailsForTick(null)}\n      />\n      <TickLogDialog\n        isOpen={!!showLogsForTick}\n        tickId={showLogsForTick?.tickId ?? null}\n        timestamp={showLogsForTick?.timestamp}\n        instigationSelector={instigationSelector}\n        onClose={() => setShowLogsForTick(null)}\n      />\n    </>\n  );\n};\n\nconst StatusFilter = ({\n  status,\n  onChange,\n}: {\n  status: TickStatusDisplay;\n  onChange: (value: TickStatusDisplay) => void;\n}) => {\n  const items = [\n    {key: TickStatusDisplay.ALL, label: 'All ticks'},\n    {key: TickStatusDisplay.SUCCESS, label: 'Requested'},\n    {key: TickStatusDisplay.FAILED, label: 'Failed'},\n  ];\n  const activeItem = items.find(({key}) => key === status);\n  return (\n    <Select<(typeof items)[0]>\n      popoverProps={{position: 'bottom-right'}}\n      filterable={false}\n      activeItem={activeItem}\n      items={items}\n      itemRenderer={(item, props) => {\n        return (\n          <MenuItem\n            active={props.modifiers.active}\n            onClick={props.handleClick}\n            key={item.key}\n            text={item.label}\n            style={{width: '300px'}}\n          />\n        );\n      }}\n      itemListRenderer={({renderItem, filteredItems}) => {\n        const renderedItems = filteredItems.map(renderItem).filter(Boolean);\n        return <Menu>{renderedItems}</Menu>;\n      }}\n      onItemSelect={(item) => onChange(item.key)}\n    >\n      <Button\n        rightIcon={<Icon name=\"arrow_drop_down\" />}\n        style={{minWidth: '200px', display: 'flex', justifyContent: 'space-between'}}\n      >\n        {activeItem?.label}\n      </Button>\n    </Select>\n  );\n};\n\nexport const TickHistoryTimeline = ({\n  name,\n  repoAddress,\n  tickResultType,\n  onHighlightRunIds,\n  beforeTimestamp,\n  afterTimestamp,\n  statuses,\n}: {\n  name: string;\n  repoAddress: RepoAddress;\n  onHighlightRunIds?: (runIds: string[]) => void;\n  beforeTimestamp?: number;\n  afterTimestamp?: number;\n  statuses?: InstigationTickStatus[];\n  tickResultType: TickResultType;\n}) => {\n  const [selectedTickId, setSelectedTickId] = useQueryPersistedState<string | undefined>({\n    encode: (tickId) => ({tickId}),\n    decode: (qs) => (typeof qs.tickId === 'string' ? qs.tickId : undefined),\n  });\n\n  const [pollingPaused, pausePolling] = React.useState<boolean>(false);\n\n  const instigationSelector = {...repoAddressToSelector(repoAddress), name};\n  const queryResult = useQuery<TickHistoryQuery, TickHistoryQueryVariables>(TICK_HISTORY_QUERY, {\n    variables: {\n      instigationSelector,\n      beforeTimestamp,\n      afterTimestamp,\n      statuses,\n      limit: beforeTimestamp ? undefined : 15,\n    },\n    notifyOnNetworkStatusChange: true,\n  });\n\n  useQueryRefreshAtInterval(\n    queryResult,\n    1000,\n    !(pollingPaused || (beforeTimestamp && afterTimestamp)),\n  );\n  const {data, error} = queryResult;\n\n  if (!data || error) {\n    return (\n      <>\n        <Box padding={{top: 16, horizontal: 24}} border=\"bottom\">\n          <Subheading>Recent ticks</Subheading>\n        </Box>\n        <Box padding={{vertical: 64}}>\n          <Spinner purpose=\"section\" />\n        </Box>\n      </>\n    );\n  }\n\n  if (data.instigationStateOrError.__typename === 'PythonError') {\n    return <PythonErrorInfo error={data.instigationStateOrError} />;\n  }\n  if (data.instigationStateOrError.__typename === 'InstigationStateNotFoundError') {\n    return null;\n  }\n\n  // Set it equal to an empty array in case of a weird error\n  // https://elementl-workspace.slack.com/archives/C03CCE471E0/p1693237968395179?thread_ts=1693233109.602669&cid=C03CCE471E0\n  const {ticks = []} = data.instigationStateOrError;\n\n  const onTickClick = (tick?: InstigationTick) => {\n    setSelectedTickId(tick ? tick.tickId : undefined);\n  };\n\n  const onTickHover = (tick?: InstigationTick) => {\n    if (!tick) {\n      pausePolling(false);\n    }\n    if (tick?.runIds) {\n      if (onHighlightRunIds) {\n        onHighlightRunIds(tick.runIds);\n      }\n      pausePolling(true);\n    }\n  };\n\n  return (\n    <>\n      <TickDetailsDialog\n        isOpen={!!selectedTickId}\n        tickId={selectedTickId}\n        tickResultType={tickResultType}\n        instigationSelector={instigationSelector}\n        onClose={() => onTickClick(undefined)}\n      />\n      <Box padding={{vertical: 16, horizontal: 24}}>\n        <Subheading>Recent ticks</Subheading>\n      </Box>\n      <Box border=\"top\">\n        <LiveTickTimeline\n          ticks={ticks}\n          tickResultType={tickResultType}\n          onHoverTick={onTickHover}\n          onSelectTick={onTickClick}\n          exactRange={\n            beforeTimestamp && afterTimestamp ? [afterTimestamp, beforeTimestamp] : undefined\n          }\n        />\n      </Box>\n    </>\n  );\n};\n\nfunction TickRow({\n  tick,\n  tickResultType,\n  index,\n  onShowDetails,\n  onShowLogs,\n}: {\n  tick: HistoryTickFragment;\n  tickResultType: TickResultType;\n  instigationSelector: InstigationSelector;\n  index: number;\n  onShowDetails: (tick: HistoryTickFragment) => void;\n  onShowLogs: (tick: HistoryTickFragment) => void;\n}) {\n  const [addedPartitions, deletedPartitions] = React.useMemo(() => {\n    const requests = tick.dynamicPartitionsRequestResults;\n    const added = countPartitionsAddedOrDeleted(\n      requests,\n      DynamicPartitionsRequestType.ADD_PARTITIONS,\n    );\n    const deleted = countPartitionsAddedOrDeleted(\n      requests,\n      DynamicPartitionsRequestType.DELETE_PARTITIONS,\n    );\n    return [added, deleted];\n  }, [tick?.dynamicPartitionsRequestResults]);\n\n  const isStuckStarted = isStuckStartedTick(tick, index);\n\n  return (\n    <tr>\n      <td>\n        <TimestampDisplay\n          timestamp={tick.timestamp}\n          timeFormat={{showTimezone: false, showSeconds: true}}\n        />\n      </td>\n      <td>\n        <TickStatusTag\n          tick={tick}\n          tickResultType={tickResultType}\n          isStuckStarted={isStuckStarted}\n        />\n      </td>\n      <td>\n        {isStuckStarted ? (\n          '- '\n        ) : (\n          <TimeElapsed\n            startUnix={tick.timestamp}\n            endUnix={tick.endTimestamp || Date.now() / 1000}\n          />\n        )}\n      </td>\n      {tick.instigationType === InstigationType.SENSOR ? (\n        <td>\n          {tick.cursor ? (\n            <Box flex={{direction: 'row', alignItems: 'center', gap: 8}}>\n              <div\n                style={{\n                  fontFamily: FontFamily.monospace,\n                  fontSize: '14px',\n                  maxWidth: '400px',\n                  overflow: 'hidden',\n                }}\n              >\n                <MiddleTruncate text={humanizeSensorCursor(tick.cursor) || ''} />\n              </div>\n              <CopyIconButton value={tick.cursor || ''} />\n            </Box>\n          ) : (\n            <>&mdash;</>\n          )}\n        </td>\n      ) : null}\n      <td>\n        <Box flex={{direction: 'column', gap: 6}}>\n          {tickResultType === 'runs' ? (\n            <Box flex={{alignItems: 'center', gap: 8}}>\n              <ButtonLink onClick={() => onShowDetails(tick)}>\n                {tick.runIds.length === 1\n                  ? '1 run requested'\n                  : `${tick.runIds.length} runs requested`}\n              </ButtonLink>\n              {tick.runs.length === 1\n                ? tick.runs.map((run) => (\n                    <React.Fragment key={run.id}>\n                      <RunStatusLink run={run} />\n                    </React.Fragment>\n                  ))\n                : null}\n            </Box>\n          ) : (\n            <Box flex={{alignItems: 'center', gap: 8}}>\n              <ButtonLink onClick={() => onShowDetails(tick)}>\n                {tick.requestedAssetMaterializationCount === 1\n                  ? '1 materialization requested'\n                  : `${tick.requestedAssetMaterializationCount} materializations requested`}\n              </ButtonLink>\n            </Box>\n          )}\n          {addedPartitions || deletedPartitions ? (\n            <Caption>\n              (\n              {addedPartitions ? (\n                <span>\n                  {addedPartitions} partition{ifPlural(addedPartitions, '', 's')} created\n                  {deletedPartitions ? ',' : ''}\n                </span>\n              ) : null}\n              {deletedPartitions ? (\n                <span>\n                  {deletedPartitions} partition{ifPlural(deletedPartitions, '', 's')} deleted,\n                </span>\n              ) : null}\n              )\n            </Caption>\n          ) : null}\n        </Box>\n      </td>\n      <td>\n        <Button onClick={() => onShowLogs(tick)}>View logs</Button>\n      </td>\n    </tr>\n  );\n}\n\nconst TICK_HISTORY_QUERY = gql`\n  query TickHistoryQuery(\n    $instigationSelector: InstigationSelector!\n    $dayRange: Int\n    $limit: Int\n    $cursor: String\n    $statuses: [InstigationTickStatus!]\n    $beforeTimestamp: Float\n    $afterTimestamp: Float\n  ) {\n    instigationStateOrError(instigationSelector: $instigationSelector) {\n      ... on InstigationState {\n        id\n        instigationType\n        ticks(\n          dayRange: $dayRange\n          limit: $limit\n          cursor: $cursor\n          statuses: $statuses\n          beforeTimestamp: $beforeTimestamp\n          afterTimestamp: $afterTimestamp\n        ) {\n          id\n          ...HistoryTick\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ${RUN_STATUS_FRAGMENT}\n  ${PYTHON_ERROR_FRAGMENT}\n  ${TICK_TAG_FRAGMENT}\n  ${HISTORY_TICK_FRAGMENT}\n`;\n\nconst TableWrapper = styled(Table)`\n  th,\n  td {\n    vertical-align: middle !important;\n  }\n`;\n","import {gql} from '../apollo-client';\nimport {INSTIGATION_STATE_FRAGMENT} from '../instigation/InstigationUtils';\n\nexport const SENSOR_FRAGMENT = gql`\n  fragment SensorFragment on Sensor {\n    id\n    name\n    description\n    minIntervalSeconds\n    sensorType\n    nextTick {\n      timestamp\n    }\n    defaultStatus\n    canReset\n    hasCursorUpdatePermissions\n    sensorState {\n      id\n      ...InstigationStateFragment\n    }\n    targets {\n      pipelineName\n      solidSelection\n      mode\n    }\n    metadata {\n      assetKeys {\n        path\n      }\n    }\n    owners {\n      ... on UserDefinitionOwner {\n        email\n      }\n      ... on TeamDefinitionOwner {\n        team\n      }\n    }\n  }\n\n  ${INSTIGATION_STATE_FRAGMENT}\n`;\n","import {Alert, Box} from '@dagster-io/ui-components';\nimport * as React from 'react';\n\nexport type DaemonStatusForWarning = {\n  healthy: boolean | null;\n  required: boolean | null;\n};\n\ntype Props = React.ComponentPropsWithRef<typeof Box> & {\n  sensorDaemonStatus?: DaemonStatusForWarning;\n  assetDaemonStatus?: DaemonStatusForWarning;\n};\n\nexport const SensorInfo = ({sensorDaemonStatus, assetDaemonStatus, ...boxProps}: Props) => {\n  const warnForSensor =\n    sensorDaemonStatus && sensorDaemonStatus.healthy === false && sensorDaemonStatus.required;\n  const warnForAssets =\n    assetDaemonStatus && !assetDaemonStatus.healthy === false && assetDaemonStatus.required;\n\n  if (!warnForAssets && !warnForSensor) {\n    return null;\n  }\n\n  const title = () => {\n    if (warnForSensor) {\n      if (warnForAssets) {\n        return 'The sensor and asset daemons are not running';\n      }\n      return 'The sensor daemon is not running';\n    }\n    return 'The asset daemon is not running';\n  };\n\n  return (\n    <Box {...boxProps}>\n      <Alert\n        intent=\"warning\"\n        title={title()}\n        description={\n          <div>\n            See the{' '}\n            <a\n              href=\"https://docs.dagster.io/deployment/dagster-daemon\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              dagster-daemon documentation\n            </a>{' '}\n            for more information on how to deploy the dagster-daemon process.\n          </div>\n        }\n      />\n    </Box>\n  );\n};\n","import * as React from 'react';\n\nimport {RunsFeedTableWithFilters} from '../runs/RunsFeedTable';\nimport {SensorFragment} from './types/SensorFragment.types';\nimport {DagsterTag} from '../runs/RunTag';\nimport {repoAddressAsTag} from '../workspace/repoAddressAsString';\nimport {RepoAddress} from '../workspace/types';\n\nexport const SensorPreviousRuns = ({\n  sensor,\n  repoAddress,\n  tabs,\n}: {\n  sensor: SensorFragment;\n  repoAddress: RepoAddress;\n  tabs?: React.ReactElement;\n}) => {\n  const filter = React.useMemo(\n    () => ({\n      tags: [\n        {key: DagsterTag.SensorName, value: sensor.name},\n        {key: DagsterTag.RepositoryLabelTag, value: repoAddressAsTag(repoAddress)},\n      ],\n    }),\n    [repoAddress, sensor.name],\n  );\n  return (\n    <RunsFeedTableWithFilters filter={filter} includeRunsFromBackfills actionBarComponents={tabs} />\n  );\n};\n","import {Box, ButtonGroup, Colors, NonIdealState, Page, Spinner} from '@dagster-io/ui-components';\nimport {useMemo, useState} from 'react';\nimport {Redirect, useParams} from 'react-router-dom';\n\nimport {SensorDetails} from './SensorDetails';\nimport {SENSOR_FRAGMENT} from './SensorFragment';\nimport {SensorInfo} from './SensorInfo';\nimport {SensorPreviousRuns} from './SensorPreviousRuns';\nimport {gql, useQuery} from '../apollo-client';\nimport {\n  SensorAssetSelectionQuery,\n  SensorAssetSelectionQueryVariables,\n  SensorRootQuery,\n  SensorRootQueryVariables,\n} from './types/SensorRoot.types';\nimport {PYTHON_ERROR_FRAGMENT} from '../app/PythonErrorFragment';\nimport {PythonErrorInfo} from '../app/PythonErrorInfo';\nimport {FIFTEEN_SECONDS, useMergedRefresh, useQueryRefreshAtInterval} from '../app/QueryRefresh';\nimport {useTrackPageView} from '../app/analytics';\nimport {AUTOMATION_ASSET_SELECTION_FRAGMENT} from '../automation/AutomationAssetSelectionFragment';\nimport {InstigationTickStatus, SensorType} from '../graphql/types';\nimport {useDocumentTitle} from '../hooks/useDocumentTitle';\nimport {useQueryPersistedState} from '../hooks/useQueryPersistedState';\nimport {INSTANCE_HEALTH_FRAGMENT} from '../instance/InstanceHealthFragment';\nimport {TickHistoryTimeline, TicksTable} from '../instigation/TickHistory';\nimport {TickResultType} from '../ticks/TickStatusTag';\nimport {repoAddressToSelector} from '../workspace/repoAddressToSelector';\nimport {RepoAddress} from '../workspace/types';\n\nexport const SensorRoot = ({repoAddress}: {repoAddress: RepoAddress}) => {\n  useTrackPageView();\n\n  const {sensorName} = useParams<{sensorName: string}>();\n  useDocumentTitle(`Sensor: ${sensorName}`);\n\n  const sensorSelector = {\n    ...repoAddressToSelector(repoAddress),\n    sensorName,\n  };\n\n  const [statuses, setStatuses] = useState<undefined | InstigationTickStatus[]>(undefined);\n  const [timeRange, setTimerange] = useState<undefined | [number, number]>(undefined);\n  const variables = useMemo(() => {\n    if (timeRange || statuses) {\n      return {\n        afterTimestamp: timeRange?.[0],\n        beforeTimestamp: timeRange?.[1],\n        statuses,\n      };\n    }\n    return {};\n  }, [statuses, timeRange]);\n\n  const [selectedTab, setSelectedTab] = useQueryPersistedState<'evaluations' | 'runs'>(\n    useMemo(\n      () => ({\n        queryKey: 'view',\n        decode: ({view}) => (view === 'runs' ? 'runs' : 'evaluations'),\n        encode: (raw) => {\n          return {view: raw, cursor: undefined, statuses: undefined};\n        },\n      }),\n      [],\n    ),\n  );\n\n  const queryResult = useQuery<SensorRootQuery, SensorRootQueryVariables>(SENSOR_ROOT_QUERY, {\n    variables: {sensorSelector},\n    notifyOnNetworkStatusChange: true,\n  });\n\n  const selectionQueryResult = useQuery<\n    SensorAssetSelectionQuery,\n    SensorAssetSelectionQueryVariables\n  >(SENSOR_ASSET_SELECTIONS_QUERY, {\n    variables: {sensorSelector},\n    notifyOnNetworkStatusChange: true,\n  });\n\n  const refreshState1 = useQueryRefreshAtInterval(queryResult, FIFTEEN_SECONDS);\n  const refreshState2 = useQueryRefreshAtInterval(selectionQueryResult, FIFTEEN_SECONDS);\n  const refreshState = useMergedRefresh(refreshState1, refreshState2);\n\n  const {data, loading} = queryResult;\n\n  const tabs = (\n    <ButtonGroup\n      activeItems={new Set([selectedTab])}\n      buttons={[\n        {id: 'evaluations', label: 'Evaluations'},\n        {id: 'runs', label: 'Runs'},\n      ]}\n      onClick={(id: 'evaluations' | 'runs') => {\n        setSelectedTab(id);\n      }}\n    />\n  );\n\n  if (!data && loading) {\n    return (\n      <Box\n        margin={{top: 32}}\n        flex={{direction: 'row', alignItems: 'center', justifyContent: 'center', gap: 16}}\n      >\n        <Spinner purpose=\"body-text\" />\n        <div style={{color: Colors.textLight()}}>Loading sensor</div>\n      </Box>\n    );\n  }\n\n  if (!data || data.sensorOrError.__typename === 'SensorNotFoundError') {\n    return (\n      <Box padding={{vertical: 32}}>\n        <NonIdealState\n          icon=\"error\"\n          title={`Could not find sensor \\`${sensorName}\\` in definitions for \\`${repoAddress.name}\\``}\n        />\n      </Box>\n    );\n  }\n\n  const {sensorOrError} = data;\n  if (sensorOrError.__typename === 'PythonError') {\n    return <PythonErrorInfo error={sensorOrError} />;\n  }\n\n  if (sensorOrError.__typename === 'UnauthorizedError') {\n    return <Redirect to=\"/overview/sensors\" />;\n  }\n\n  const {instance} = data;\n  const assetSelection =\n    selectionQueryResult.data?.sensorOrError.__typename === 'Sensor'\n      ? selectionQueryResult.data.sensorOrError.assetSelection\n      : null;\n\n  const isAutomationSensor =\n    sensorOrError.sensorType === SensorType.AUTO_MATERIALIZE ||\n    sensorOrError.sensorType === SensorType.AUTOMATION;\n\n  const sensorDaemonStatus = instance.daemonHealth.sensorDaemonStatus;\n\n  const tickResultType: TickResultType = isAutomationSensor ? 'materializations' : 'runs';\n\n  return (\n    <Page>\n      <SensorDetails\n        repoAddress={repoAddress}\n        sensor={sensorOrError}\n        daemonHealth={sensorDaemonStatus.healthy}\n        refreshState={refreshState}\n        assetSelection={assetSelection || null}\n      />\n      <SensorInfo\n        sensorDaemonStatus={sensorDaemonStatus}\n        padding={{vertical: 16, horizontal: 24}}\n      />\n      <TickHistoryTimeline\n        tickResultType={tickResultType}\n        repoAddress={repoAddress}\n        name={sensorOrError.name}\n        {...variables}\n      />\n      <Box margin={{top: 32}} border=\"top\">\n        {selectedTab === 'evaluations' ? (\n          <TicksTable\n            tabs={tabs}\n            tickResultType={tickResultType}\n            repoAddress={repoAddress}\n            name={sensorOrError.name}\n            setParentStatuses={setStatuses}\n            setTimerange={setTimerange}\n          />\n        ) : (\n          <SensorPreviousRuns repoAddress={repoAddress} sensor={sensorOrError} tabs={tabs} />\n        )}\n      </Box>\n    </Page>\n  );\n};\n\nconst SENSOR_ROOT_QUERY = gql`\n  query SensorRootQuery($sensorSelector: SensorSelector!) {\n    sensorOrError(sensorSelector: $sensorSelector) {\n      ... on Sensor {\n        id\n        ...SensorFragment\n      }\n      ...PythonErrorFragment\n    }\n    instance {\n      id\n      daemonHealth {\n        id\n        sensorDaemonStatus: daemonStatus(daemonType: \"SENSOR\") {\n          id\n          healthy\n          required\n        }\n        ampDaemonStatus: daemonStatus(daemonType: \"ASSET\") {\n          id\n          healthy\n          required\n        }\n      }\n      ...InstanceHealthFragment\n    }\n  }\n\n  ${SENSOR_FRAGMENT}\n  ${PYTHON_ERROR_FRAGMENT}\n  ${INSTANCE_HEALTH_FRAGMENT}\n`;\n\nexport const SENSOR_ASSET_SELECTIONS_QUERY = gql`\n  query SensorAssetSelectionQuery($sensorSelector: SensorSelector!) {\n    sensorOrError(sensorSelector: $sensorSelector) {\n      ... on Sensor {\n        id\n        assetSelection {\n          ...AutomationAssetSelectionFragment\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ${AUTOMATION_ASSET_SELECTION_FRAGMENT}\n  ${PYTHON_ERROR_FRAGMENT}\n`;\n","import {useCallback} from 'react';\nimport {useHistory} from 'react-router-dom';\n\nimport {showLaunchError} from './showLaunchError';\nimport {useMutation} from '../apollo-client';\nimport {paramsWithUIExecutionTags} from './uiExecutionTags';\nimport {TelemetryAction, useTelemetryAction} from '../app/Telemetry';\nimport {\n  LAUNCH_MULTIPLE_RUNS_MUTATION,\n  LaunchBehavior,\n  handleLaunchMultipleResult,\n} from '../runs/RunUtils';\nimport {\n  LaunchMultipleRunsMutation,\n  LaunchMultipleRunsMutationVariables,\n} from '../runs/types/RunUtils.types';\n\nexport function useLaunchMultipleRunsWithTelemetry() {\n  const [launchMultipleRuns] = useMutation<\n    LaunchMultipleRunsMutation,\n    LaunchMultipleRunsMutationVariables\n  >(LAUNCH_MULTIPLE_RUNS_MUTATION);\n\n  const logTelemetry = useTelemetryAction();\n  const history = useHistory();\n\n  return useCallback(\n    async (variables: LaunchMultipleRunsMutationVariables, behavior: LaunchBehavior) => {\n      try {\n        const executionParamsList = Array.isArray(variables.executionParamsList)\n          ? variables.executionParamsList\n          : [variables.executionParamsList];\n\n        const jobNames = executionParamsList.map(\n          (params) => params.selector.jobName || params.selector.pipelineName,\n        );\n\n        if (\n          jobNames.length !== executionParamsList.length ||\n          jobNames.includes(undefined) ||\n          jobNames.includes(null)\n        ) {\n          throw new Error(\n            'Error: Invalid job names. Each RunRequest must specify a job name to launch all runs',\n          );\n        }\n\n        const metadata: {[key: string]: string | string[] | null | undefined} = {\n          jobNames: jobNames.filter((name): name is string => name !== undefined),\n          opSelection: undefined,\n        };\n\n        const finalized = {\n          ...variables,\n          executionParamsList: Array.isArray(variables.executionParamsList)\n            ? variables.executionParamsList.map(paramsWithUIExecutionTags)\n            : paramsWithUIExecutionTags(variables.executionParamsList),\n        };\n\n        const result = (await launchMultipleRuns({variables: finalized})).data?.launchMultipleRuns;\n\n        if (result) {\n          handleLaunchMultipleResult(result, history, {behavior});\n          logTelemetry(\n            TelemetryAction.LAUNCH_MULTIPLE_RUNS,\n            metadata as {[key: string]: string | string[] | null | undefined},\n          );\n        }\n\n        return result;\n      } catch (error) {\n        console.error('error', error);\n        showLaunchError(error as Error);\n      }\n      return undefined;\n    },\n    [history, launchMultipleRuns, logTelemetry],\n  );\n}\n","import {\n  DynamicPartitionsRequestResult,\n  DynamicPartitionsRequestType,\n  InstigationTick,\n  InstigationTickStatus,\n} from '../graphql/types';\n\nconst TRUNCATION_THRESHOLD = 100;\nconst TRUNCATION_BUFFER = 5;\n\nconst THREE_DAYS_MS = 60 * 60 * 24 * 3 * 1000;\n\nexport const truncate = (str: string) =>\n  str.length > TRUNCATION_THRESHOLD\n    ? `${str.slice(0, TRUNCATION_THRESHOLD - TRUNCATION_BUFFER)}`\n    : str;\n\nexport function isStuckStartedTick(\n  tick: Pick<InstigationTick, 'timestamp' | 'endTimestamp' | 'status'>,\n  index: number,\n) {\n  return (\n    !tick.endTimestamp &&\n    // If the index is 0 and the tick does have an end timestamp then we can't know if its actually stuck or still in progress\n    // but if its older than three days then its very likely stuck\n    ((index !== 0 && tick.status === InstigationTickStatus.STARTED) ||\n      tick.timestamp * 1000 < Date.now() - THREE_DAYS_MS)\n  );\n}\n\nexport function countPartitionsAddedOrDeleted(\n  requests: Pick<DynamicPartitionsRequestResult, 'partitionKeys' | 'type'>[],\n  type: DynamicPartitionsRequestType,\n) {\n  return requests.reduce((sum, request) => {\n    if (request.type === type) {\n      return sum + (request.partitionKeys?.length || 0);\n    }\n    return sum;\n  }, 0);\n}\n","import {RepoAddress} from '../workspace/types';\n\nexport interface Props {\n  repoAddress: RepoAddress;\n  sensorName: string;\n}\n\nexport const SensorAlertDetails = (_props: Props) => null;\n","import {Box} from '@dagster-io/ui-components';\n\nimport {AssetLink} from '../assets/AssetLink';\nimport {SensorMetadata} from '../graphql/types';\n\nexport const SensorMonitoredAssets = ({metadata}: {metadata: SensorMetadata | undefined}) => {\n  if (!metadata?.assetKeys?.length) {\n    return <span />;\n  }\n  return (\n    <Box flex={{direction: 'column', gap: 2}}>\n      {metadata.assetKeys.map((key) => (\n        <AssetLink key={key.path.join('/')} path={key.path} icon=\"asset\" />\n      ))}\n    </Box>\n  );\n};\n","import {Button, Tooltip} from '@dagster-io/ui-components';\n\nimport {RESET_SENSOR_MUTATION, displaySensorMutationErrors} from './SensorMutations';\nimport {useMutation} from '../apollo-client';\nimport {SensorFragment} from './types/SensorFragment.types';\nimport {ResetSensorMutation, ResetSensorMutationVariables} from './types/SensorMutations.types';\nimport {DEFAULT_DISABLED_REASON} from '../app/Permissions';\nimport {repoAddressToSelector} from '../workspace/repoAddressToSelector';\nimport {RepoAddress} from '../workspace/types';\n\ninterface Props {\n  repoAddress: RepoAddress;\n  sensor: SensorFragment;\n}\n\nexport const SensorResetButton = ({repoAddress, sensor}: Props) => {\n  const {name} = sensor;\n  const sensorSelector = {\n    ...repoAddressToSelector(repoAddress),\n    sensorName: name,\n  };\n\n  const [resetSensor, {loading: toggleOnInFlight}] = useMutation<\n    ResetSensorMutation,\n    ResetSensorMutationVariables\n  >(RESET_SENSOR_MUTATION, {\n    onCompleted: displaySensorMutationErrors,\n  });\n  const onClick = () => {\n    resetSensor({variables: {sensorSelector}});\n  };\n\n  const hasPermission =\n    sensor.sensorState.hasStartPermission && sensor.sensorState.hasStopPermission;\n  const disabled = toggleOnInFlight || !hasPermission;\n  const tooltipContent = hasPermission\n    ? `In code, a default status for \"${name}\" has been set to \"${sensor.defaultStatus}\". Click here to reset the sensor status to track the status set in code.`\n    : DEFAULT_DISABLED_REASON;\n\n  return (\n    <Tooltip\n      content={<div style={{maxWidth: '500px', wordBreak: 'break-word'}}>{tooltipContent}</div>}\n      display=\"flex\"\n    >\n      <Button disabled={disabled} onClick={onClick}>\n        Reset sensor status\n      </Button>\n    </Tooltip>\n  );\n};\n","import {Box, Colors, Icon, Subheading, Table, Tag} from '@dagster-io/ui-components';\nimport {useMemo} from 'react';\n\nimport {DynamicPartitionRequestFragment} from './types/SensorDryRunDialog.types';\nimport {DynamicPartitionsRequestType} from '../graphql/types';\n\nexport function DynamicPartitionRequests({\n  includeTitle = true,\n  requests,\n}: {\n  includeTitle?: boolean;\n  requests: Pick<DynamicPartitionRequestFragment, 'partitionKeys' | 'partitionsDefName' | 'type'>[];\n}) {\n  const rows = useMemo(() => {\n    if (!requests.length) {\n      return [];\n    }\n    const rows: {key: string; def: string; type: DynamicPartitionsRequestType}[] = [];\n    requests.forEach(({partitionKeys, partitionsDefName, type}) => {\n      partitionKeys?.forEach((key) => {\n        rows.push({\n          key,\n          def: partitionsDefName,\n          type,\n        });\n      });\n    });\n    return rows;\n  }, [requests]);\n\n  if (!rows.length) {\n    return null;\n  }\n\n  return (\n    <Box flex={{direction: 'column', gap: 12, grow: 1}}>\n      {includeTitle ? (\n        <Box flex={{direction: 'row', alignItems: 'center', gap: 8}}>\n          <Icon name=\"partition\" />\n          <Subheading>Dynamic Partition Requests</Subheading>\n        </Box>\n      ) : null}\n      <Table style={{borderRight: `1px solid ${Colors.keylineDefault()}`}}>\n        <thead>\n          <tr>\n            <th>Partition</th>\n            <th>Partition definition</th>\n            <th>Requested change</th>\n          </tr>\n        </thead>\n        <tbody>\n          {rows.map(({key, def, type}, index) => {\n            return (\n              <tr key={index}>\n                <td>{key}</td>\n                <td>{def}</td>\n                <td>\n                  {type === DynamicPartitionsRequestType.ADD_PARTITIONS ? (\n                    <Tag intent=\"success\">\n                      <span>Add Partition</span>\n                    </Tag>\n                  ) : (\n                    <Tag intent=\"danger\">\n                      <span>Delete Partition</span>\n                    </Tag>\n                  )}\n                </td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </Table>\n    </Box>\n  );\n}\n","import {\n  Box,\n  Button,\n  ButtonLink,\n  Colors,\n  Dialog,\n  DialogBody,\n  DialogFooter,\n  Icon,\n  NonIdealState,\n  NonIdealStateWrapper,\n  Spinner,\n  Subheading,\n  Tag,\n  TextInput,\n  Tooltip,\n} from '@dagster-io/ui-components';\nimport {useCallback, useMemo, useState} from 'react';\nimport styled from 'styled-components';\n\nimport {RunRequestTable} from './DryRunRequestTable';\nimport {DynamicPartitionRequests} from './DynamicPartitionRequests';\nimport {RUN_REQUEST_FRAGMENT} from './RunRequestFragment';\nimport {gql, useMutation} from '../apollo-client';\nimport {\n  SensorDryRunMutation,\n  SensorDryRunMutationVariables,\n} from './types/SensorDryRunDialog.types';\nimport {showCustomAlert} from '../app/CustomAlertProvider';\nimport {showSharedToaster} from '../app/DomUtils';\nimport {PYTHON_ERROR_FRAGMENT} from '../app/PythonErrorFragment';\nimport {PythonErrorInfo} from '../app/PythonErrorInfo';\nimport {assertUnreachable} from '../app/Util';\nimport {useTrackEvent} from '../app/analytics';\nimport {PythonErrorFragment} from '../app/types/PythonErrorFragment.types';\nimport {DELETE_DYNAMIC_PARTITIONS_MUTATION} from '../assets/DeleteDynamicPartitionsDialog';\nimport {\n  DeleteDynamicPartitionsMutation,\n  DeleteDynamicPartitionsMutationVariables,\n} from '../assets/types/DeleteDynamicPartitionsDialog.types';\nimport {DynamicPartitionsRequestType, SensorSelector} from '../graphql/types';\nimport {useLaunchMultipleRunsWithTelemetry} from '../launchpad/useLaunchMultipleRunsWithTelemetry';\nimport {CREATE_PARTITION_MUTATION} from '../partitions/CreatePartitionDialog';\nimport {\n  AddDynamicPartitionMutation,\n  AddDynamicPartitionMutationVariables,\n} from '../partitions/types/CreatePartitionDialog.types';\nimport {SET_CURSOR_MUTATION} from '../sensors/EditCursorDialog';\nimport {\n  SetSensorCursorMutation,\n  SetSensorCursorMutationVariables,\n} from '../sensors/types/EditCursorDialog.types';\nimport {testId} from '../testing/testId';\nimport {buildExecutionParamsListSensor} from '../util/buildExecutionParamsList';\nimport {RepoAddress} from '../workspace/types';\n\nexport type SensorDryRunInstigationTick = Extract<\n  SensorDryRunMutation['sensorDryRun'],\n  {__typename: 'DryRunInstigationTick'}\n>;\n\ntype Props = {\n  name: string;\n  onClose: () => void;\n  repoAddress: RepoAddress;\n  currentCursor: string;\n  isOpen: boolean;\n  jobName: string;\n};\n\nexport const SensorDryRunDialog = (props: Props) => {\n  const {isOpen, onClose, name} = props;\n  return (\n    <Dialog\n      isOpen={isOpen}\n      onClose={onClose}\n      style={{width: '70vw', display: 'flex'}}\n      icon=\"preview_tick\"\n      title={`Preview tick result for ${name}`}\n    >\n      <SensorDryRun {...props} />\n    </Dialog>\n  );\n};\n\nconst SensorDryRun = ({repoAddress, name, currentCursor, onClose, jobName}: Props) => {\n  const trackEvent = useTrackEvent();\n\n  const [sensorDryRun] = useMutation<SensorDryRunMutation, SensorDryRunMutationVariables>(\n    EVALUATE_SENSOR_MUTATION,\n  );\n  const [setCursorMutation] = useMutation<\n    SetSensorCursorMutation,\n    SetSensorCursorMutationVariables\n  >(SET_CURSOR_MUTATION);\n  const [createPartition] = useMutation<\n    AddDynamicPartitionMutation,\n    AddDynamicPartitionMutationVariables\n  >(CREATE_PARTITION_MUTATION);\n  const [deletePartition] = useMutation<\n    DeleteDynamicPartitionsMutation,\n    DeleteDynamicPartitionsMutationVariables\n  >(DELETE_DYNAMIC_PARTITIONS_MUTATION);\n\n  const [cursor, setCursor] = useState(currentCursor);\n\n  const [submitting, setSubmitting] = useState(false);\n  const [launching, setLaunching] = useState(false);\n  const [error, setError] = useState<PythonErrorFragment | null>(null);\n  const [sensorExecutionData, setSensorExecutionData] =\n    useState<SensorDryRunInstigationTick | null>(null);\n\n  const sensorSelector: SensorSelector = useMemo(\n    () => ({\n      sensorName: name,\n      repositoryLocationName: repoAddress.location,\n      repositoryName: repoAddress.name,\n    }),\n    [repoAddress, name],\n  );\n  const executionParamsList = useMemo(\n    () =>\n      sensorExecutionData && sensorSelector\n        ? buildExecutionParamsListSensor(sensorExecutionData, sensorSelector, jobName)\n        : [],\n    [sensorSelector, sensorExecutionData, jobName],\n  );\n  const dynamicPartitionRequests = sensorExecutionData?.evaluationResult?.dynamicPartitionsRequests;\n\n  const submitTest = useCallback(async () => {\n    setSubmitting(true);\n    const result = await sensorDryRun({\n      variables: {\n        selectorData: sensorSelector,\n        cursor,\n      },\n    });\n    const data = result.data?.sensorDryRun;\n    if (data) {\n      if (data?.__typename === 'DryRunInstigationTick') {\n        if (data.evaluationResult?.error) {\n          setError(data.evaluationResult.error);\n        } else {\n          setSensorExecutionData(data);\n        }\n      } else if (data?.__typename === 'SensorNotFoundError') {\n        showCustomAlert({\n          title: 'Sensor not found',\n          body: `Could not find a sensor named: ${name}`,\n        });\n      } else {\n        setError(data);\n      }\n    } else {\n      assertUnreachable('sensorDryRun Mutation returned no data??' as never);\n    }\n    setSubmitting(false);\n  }, [sensorDryRun, sensorSelector, cursor, name]);\n\n  const onCommitTickResult = useCallback(async () => {\n    const cursor = sensorExecutionData?.evaluationResult?.cursor;\n    if (!cursor) {\n      return;\n    }\n    const {data} = await setCursorMutation({\n      variables: {sensorSelector, cursor},\n    });\n    if (data?.setSensorCursor.__typename === 'Sensor') {\n      await showSharedToaster({message: 'Cursor value updated', intent: 'success'});\n    } else if (data?.setSensorCursor) {\n      const error = data.setSensorCursor;\n      await showSharedToaster({\n        intent: 'danger',\n        message: (\n          <Box flex={{direction: 'row', gap: 8}}>\n            <div>Could not set cursor value.</div>\n            <ButtonLink\n              color={Colors.accentReversed()}\n              underline=\"always\"\n              onClick={() => {\n                showCustomAlert({\n                  title: 'Python Error',\n                  body:\n                    error.__typename === 'PythonError' ? (\n                      <PythonErrorInfo error={error} />\n                    ) : (\n                      'Sensor not found'\n                    ),\n                });\n              }}\n            >\n              View error\n            </ButtonLink>\n          </Box>\n        ),\n      });\n    }\n  }, [sensorExecutionData?.evaluationResult?.cursor, sensorSelector, setCursorMutation]);\n\n  const launchMultipleRunsWithTelemetry = useLaunchMultipleRunsWithTelemetry();\n\n  const canApply = useMemo(() => {\n    return (\n      (executionParamsList != null && executionParamsList.length > 0) ||\n      (dynamicPartitionRequests?.length || 0) > 0\n    );\n  }, [executionParamsList, dynamicPartitionRequests]);\n\n  const onApply = useCallback(async () => {\n    if (!canApply) {\n      return;\n    }\n\n    trackEvent('launch-all-sensor');\n    setLaunching(true);\n\n    try {\n      if (dynamicPartitionRequests?.length) {\n        await Promise.all(\n          dynamicPartitionRequests.map(async (request) => {\n            if (request.type === DynamicPartitionsRequestType.ADD_PARTITIONS) {\n              await Promise.all(\n                (request.partitionKeys || []).map(async (partitionKey) => {\n                  await createPartition({\n                    variables: {\n                      repositorySelector: {\n                        repositoryName: repoAddress.name,\n                        repositoryLocationName: repoAddress.location,\n                      },\n                      partitionsDefName: request.partitionsDefName,\n                      partitionKey,\n                    },\n                  });\n                }),\n              );\n            } else if (request.partitionKeys && request.partitionKeys.length) {\n              await deletePartition({\n                variables: {\n                  repositorySelector: {\n                    repositoryName: repoAddress.name,\n                    repositoryLocationName: repoAddress.location,\n                  },\n                  partitionsDefName: request.partitionsDefName,\n                  partitionKeys: request.partitionKeys,\n                },\n              });\n            }\n          }),\n        );\n      }\n      if (executionParamsList) {\n        await launchMultipleRunsWithTelemetry({executionParamsList}, 'toast');\n      }\n      onCommitTickResult(); // persist tick\n    } catch (e) {\n      console.error(e);\n    }\n\n    setLaunching(false);\n    onClose();\n  }, [\n    canApply,\n    createPartition,\n    deletePartition,\n    dynamicPartitionRequests,\n    executionParamsList,\n    launchMultipleRunsWithTelemetry,\n    onClose,\n    onCommitTickResult,\n    repoAddress,\n    trackEvent,\n  ]);\n\n  const leftButtons = useMemo(() => {\n    if (launching) {\n      return null;\n    }\n\n    if (sensorExecutionData || error) {\n      return (\n        <Button\n          icon={<Icon name=\"settings_backup_restore\" />}\n          data-testid={testId('try-again')}\n          onClick={() => {\n            setSensorExecutionData(null);\n            setError(null);\n          }}\n        >\n          Try again\n        </Button>\n      );\n    } else {\n      return null;\n    }\n  }, [launching, sensorExecutionData, error]);\n\n  const rightButtons = useMemo(() => {\n    if (launching) {\n      return <Box flex={{direction: 'row', gap: 8}}></Box>;\n    }\n\n    if (sensorExecutionData || error) {\n      const runRequests = sensorExecutionData?.evaluationResult?.runRequests;\n      const numRunRequests = runRequests?.length || 0;\n      const didSkip = !error && numRunRequests === 0;\n\n      if (error) {\n        return (\n          <Box flex={{direction: 'row', gap: 8}}>\n            <Button onClick={onClose}>Close</Button>\n          </Box>\n        );\n      } else if (didSkip) {\n        return (\n          <Box flex={{direction: 'row', gap: 8}}>\n            <Button onClick={onClose}>Close</Button>\n\n            <Tooltip content=\"Commits tick result\" placement=\"top-end\">\n              <Button\n                icon={<Icon name=\"check_filled\" />}\n                intent=\"primary\"\n                onClick={onCommitTickResult}\n                data-testid={testId('commit-tick-result')}\n              >\n                <div>Commit tick result</div>\n              </Button>\n            </Tooltip>\n          </Box>\n        );\n      } else {\n        return (\n          <Box flex={{direction: 'row', gap: 8}}>\n            <Button onClick={onClose}>Close</Button>\n            <Tooltip\n              canShow={!canApply || launching}\n              content=\"Applies requests, launches all runs, and commits tick result\"\n              placement=\"top-end\"\n            >\n              <Button\n                icon={<Icon name=\"check_filled\" />}\n                intent=\"primary\"\n                disabled={!canApply || launching}\n                onClick={onApply}\n                data-testid={testId('launch-all')}\n              >\n                <div>Apply requests & commit tick result</div>\n              </Button>\n            </Tooltip>\n          </Box>\n        );\n      }\n    }\n    if (submitting) {\n      return (\n        <Box flex={{direction: 'row', gap: 8}}>\n          <Button onClick={onClose}>Cancel</Button>\n        </Box>\n      );\n    } else {\n      return (\n        <Box flex={{direction: 'row', gap: 8}}>\n          <Button onClick={onClose}>Cancel</Button>\n          <Button onClick={submitTest} intent=\"primary\" data-testid={testId('continue')}>\n            Continue\n          </Button>\n        </Box>\n      );\n    }\n  }, [\n    launching,\n    sensorExecutionData,\n    error,\n    submitting,\n    onClose,\n    onCommitTickResult,\n    canApply,\n    onApply,\n    submitTest,\n  ]);\n\n  const content = useMemo(() => {\n    if (launching) {\n      return (\n        <Box flex={{direction: 'row', gap: 8, justifyContent: 'center', alignItems: 'center'}}>\n          <Spinner purpose=\"body-text\" />\n          <div>Launching runs</div>\n        </Box>\n      );\n    }\n    if (sensorExecutionData || error) {\n      const runRequests = sensorExecutionData?.evaluationResult?.runRequests;\n      const numRunRequests = runRequests?.length || 0;\n      const didSkip = !error && numRunRequests === 0;\n      const dynamicPartitionRequests =\n        sensorExecutionData?.evaluationResult?.dynamicPartitionsRequests;\n      return (\n        <Box flex={{direction: 'column', gap: 8}}>\n          <Grid>\n            <div>\n              <Subheading>Result</Subheading>\n              <Box flex={{grow: 1, alignItems: 'center'}}>\n                <div>\n                  {error ? (\n                    <Tag intent=\"danger\">Failed</Tag>\n                  ) : numRunRequests ? (\n                    <Tag intent=\"success\">{numRunRequests} run requests</Tag>\n                  ) : (\n                    <Tag intent=\"warning\">Skipped</Tag>\n                  )}\n                </div>\n              </Box>\n            </div>\n            <div>\n              <Subheading>Used cursor value</Subheading>\n              <pre>{cursor?.length ? cursor : 'None'}</pre>\n            </div>\n          </Grid>\n          <Box>\n            {error ? (\n              <div>\n                <PythonErrorInfo error={error} />\n              </div>\n            ) : null}\n            {didSkip ? (\n              <Box flex={{direction: 'column', gap: 8}}>\n                <Subheading style={{marginBottom: 8}}>Requested runs (0)</Subheading>\n                <div>\n                  <SkipReasonNonIdealStateWrapper>\n                    <NonIdealState\n                      icon=\"missing\"\n                      title=\"No runs requested\"\n                      description={\n                        <>\n                          <span>\n                            The sensor function was successfully evaluated but didn&apos;t return\n                            any run requests.\n                          </span>\n                          <span>\n                            <br />\n                            Skip reason:{' '}\n                            {sensorExecutionData?.evaluationResult?.skipReason\n                              ? `\"${sensorExecutionData.evaluationResult.skipReason}\"`\n                              : 'No skip reason was output'}\n                          </span>\n                        </>\n                      }\n                    />\n                  </SkipReasonNonIdealStateWrapper>\n                </div>\n              </Box>\n            ) : null}\n            {numRunRequests && runRequests ? (\n              <Box flex={{direction: 'column', gap: 8}}>\n                <Subheading>Requested runs ({numRunRequests})</Subheading>\n                <RunRequestTable\n                  runRequests={runRequests}\n                  name={name}\n                  jobName={jobName}\n                  isJob={true}\n                  repoAddress={repoAddress}\n                />\n              </Box>\n            ) : null}\n            {dynamicPartitionRequests?.length ? (\n              <div style={{marginTop: '24px'}}>\n                <DynamicPartitionRequests requests={dynamicPartitionRequests} />\n              </div>\n            ) : null}\n          </Box>\n\n          <ComputedCursorGrid>\n            <Subheading>Computed cursor value</Subheading>\n            <pre>\n              {sensorExecutionData?.evaluationResult?.cursor?.length\n                ? sensorExecutionData?.evaluationResult.cursor\n                : error\n                  ? 'Error'\n                  : 'None'}\n            </pre>\n          </ComputedCursorGrid>\n        </Box>\n      );\n    }\n    if (submitting) {\n      return (\n        <Box flex={{direction: 'row', gap: 8, justifyContent: 'center', alignItems: 'center'}}>\n          <Spinner purpose=\"body-text\" />\n          <div>Evaluating sensor</div>\n        </Box>\n      );\n    } else {\n      return (\n        <Box flex={{direction: 'column', gap: 8}}>\n          <div>Cursor value (optional)</div>\n          <TextInput\n            value={cursor}\n            onChange={(e) => setCursor(e.target.value)}\n            data-testid={testId('cursor-input')}\n            placeholder=\"Enter a cursor value\"\n          />\n          <div>\n            A cursor tracks where a sensor left off, allowing the sensor to efficiently process new\n            changes or events without missing anything or duplicating work. The cursor is typically\n            a string, and can be updated within the sensor&apos;s logic to reflect the latest state.\n          </div>\n          <div>\n            <a href=\"https://docs.dagster.io/concepts/partitions-schedules-sensors/sensors#idempotence-and-cursors\">\n              Learn more\n            </a>{' '}\n            about cursors\n          </div>\n        </Box>\n      );\n    }\n  }, [sensorExecutionData, error, submitting, launching, name, jobName, repoAddress, cursor]);\n\n  return (\n    <>\n      <DialogBody>\n        <div style={{minHeight: '300px'}}>{content}</div>\n      </DialogBody>\n      <DialogFooter topBorder left={leftButtons}>\n        {rightButtons}\n      </DialogFooter>\n    </>\n  );\n};\n\nexport const EVALUATE_SENSOR_MUTATION = gql`\n  mutation SensorDryRunMutation($selectorData: SensorSelector!, $cursor: String) {\n    sensorDryRun(selectorData: $selectorData, cursor: $cursor) {\n      ... on DryRunInstigationTick {\n        timestamp\n        evaluationResult {\n          cursor\n          runRequests {\n            ...RunRequestFragment\n          }\n          skipReason\n          error {\n            ...PythonErrorFragment\n          }\n          dynamicPartitionsRequests {\n            ...DynamicPartitionRequestFragment\n          }\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  fragment DynamicPartitionRequestFragment on DynamicPartitionRequest {\n    partitionKeys\n    partitionsDefName\n    type\n  }\n\n  ${RUN_REQUEST_FRAGMENT}\n  ${PYTHON_ERROR_FRAGMENT}\n`;\n\nconst Grid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  padding-bottom: 12px;\n  border-bottom: 1px solid ${Colors.keylineDefault()};\n  ${Subheading} {\n    padding-bottom: 4px;\n    display: block;\n  }\n  pre {\n    margin: 0;\n  }\n  button {\n    margin-top: 4px;\n  }\n`;\n\nconst ComputedCursorGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(1, 1fr);\n  padding-bottom: 12px;\n  ${Subheading} {\n    padding-bottom: 4px;\n    display: block;\n  }\n  pre {\n    margin: 0;\n  }\n  button {\n    margin-top: 4px;\n  }\n`;\n\nconst SkipReasonNonIdealStateWrapper = styled.div`\n  ${NonIdealStateWrapper} {\n    margin: auto !important;\n    width: unset !important;\n    max-width: unset !important;\n  }\n`;\n","import {Box, Button, Icon, Tooltip} from '@dagster-io/ui-components';\nimport {useState} from 'react';\n\nimport {SensorDryRunDialog} from './SensorDryRunDialog';\nimport {SensorType} from '../graphql/types';\nimport {RepoAddress} from '../workspace/types';\n\ninterface EvaluateTickButtonSensorProps {\n  cursor: string;\n  name: string;\n  repoAddress: RepoAddress;\n  jobName: string;\n  sensorType: SensorType;\n}\n\nexport const EvaluateTickButtonSensor = ({\n  cursor,\n  name,\n  repoAddress,\n  jobName,\n  sensorType,\n}: EvaluateTickButtonSensorProps) => {\n  const [showTestTickDialog, setShowTestTickDialog] = useState(false);\n\n  return (\n    <Box flex={{direction: 'row', alignItems: 'center', gap: 8}}>\n      <Tooltip\n        canShow={sensorType !== SensorType.STANDARD}\n        content=\"Testing not available for this sensor type\"\n        placement=\"top-end\"\n      >\n        <Button\n          disabled={sensorType !== SensorType.STANDARD}\n          onClick={() => setShowTestTickDialog(true)}\n          icon={<Icon name=\"preview_tick\" />}\n        >\n          Preview tick result\n        </Button>\n      </Tooltip>\n      <SensorDryRunDialog\n        isOpen={showTestTickDialog}\n        onClose={() => setShowTestTickDialog(false)}\n        currentCursor={cursor}\n        name={name}\n        repoAddress={repoAddress}\n        jobName={jobName}\n      />\n    </Box>\n  );\n};\n","import {\n  Box,\n  Button,\n  FontFamily,\n  Icon,\n  MetadataTableWIP,\n  PageHeader,\n  Subtitle1,\n  Tag,\n  Tooltip,\n} from '@dagster-io/ui-components';\nimport {useState} from 'react';\nimport {Link} from 'react-router-dom';\nimport {SensorAlertDetails} from 'shared/sensors/SensorAlertDetails.oss';\nimport styled from 'styled-components';\n\nimport {EditCursorDialog} from './EditCursorDialog';\nimport {SensorMonitoredAssets} from './SensorMonitoredAssets';\nimport {SensorResetButton} from './SensorResetButton';\nimport {SensorSwitch} from './SensorSwitch';\nimport {DEFAULT_DISABLED_REASON} from '../app/Permissions';\nimport {QueryRefreshCountdown, QueryRefreshState} from '../app/QueryRefresh';\nimport {AutomationTargetList} from '../automation/AutomationTargetList';\nimport {AutomationAssetSelectionFragment} from '../automation/types/AutomationAssetSelectionFragment.types';\nimport {InstigationStatus, SensorType} from '../graphql/types';\nimport {RepositoryLink} from '../nav/RepositoryLink';\nimport {DefinitionOwners} from '../owners/DefinitionOwners';\nimport {TimestampDisplay} from '../schedules/TimestampDisplay';\nimport {EvaluateTickButtonSensor} from '../ticks/EvaluateTickButtonSensor';\nimport {SensorFragment} from './types/SensorFragment.types';\nimport {TickStatusTag} from '../ticks/TickStatusTag';\nimport {RepoAddress} from '../workspace/types';\n\nconst TIME_FORMAT = {showSeconds: true, showTimezone: false};\n\n/** Some cursors are persisted Python tuples, which come through as JSON. Examples:\n * {\"__class__\": \"AirflowPollingSensorCursor\", \"dag_query_offset\": 0, \"end_date_gte\": 1743134332.087687, \"end_date_lte\": null}\n * {\"__class__\": \"RunStatusSensorCursor\", \"record_id\": 1234, \"update_timestamp\": \"1743134332.087687\", \"record_timestamp\": null}\n *\n * For these, there are often empty / unused fields and we can pull just the cursor fields that are in use\n * into a compact table-ready presentation:\n *\n * end_date_gte=1743134332.087687\n */\nexport const humanizeSensorCursor = (cursor: string | false | null) => {\n  if (cursor && cursor.startsWith('{\"__class__\"')) {\n    const cursorObj = JSON.parse(cursor);\n    delete cursorObj['__class__'];\n    return Object.entries(cursorObj)\n      .filter((pair) => pair[1] !== null && pair[1] !== 0)\n      .map(([k, v]) => `${k}=${v}`)\n      .join(',');\n  }\n  return cursor;\n};\n\nexport const humanizeSensorInterval = (minIntervalSeconds?: number) => {\n  if (!minIntervalSeconds) {\n    minIntervalSeconds = 30; // should query sensor interval config when available\n  }\n  if (minIntervalSeconds < 60 || minIntervalSeconds % 60) {\n    return `~${minIntervalSeconds} sec`;\n  }\n  if (minIntervalSeconds === 3600) {\n    return `~1 hour`;\n  }\n  if (minIntervalSeconds < 3600 || minIntervalSeconds % 3600) {\n    return `~${minIntervalSeconds / 60} min`;\n  }\n  if (minIntervalSeconds === 86400) {\n    return `~1 day`;\n  }\n  if (minIntervalSeconds < 86400 || minIntervalSeconds % 86400) {\n    return `~${minIntervalSeconds / 3600} hours`;\n  }\n  return `~${minIntervalSeconds / 86400} days`;\n};\n\nexport const SensorDetails = ({\n  sensor,\n  repoAddress,\n  daemonHealth,\n  refreshState,\n  assetSelection,\n}: {\n  sensor: SensorFragment;\n  repoAddress: RepoAddress;\n  daemonHealth: boolean | null;\n  refreshState: QueryRefreshState;\n  assetSelection: AutomationAssetSelectionFragment | null;\n}) => {\n  const {\n    name,\n    sensorState: {status, ticks},\n    metadata,\n  } = sensor;\n\n  const [isCursorEditing, setCursorEditing] = useState(false);\n  const sensorSelector = {\n    sensorName: sensor.name,\n    repositoryName: repoAddress.name,\n    repositoryLocationName: repoAddress.location,\n  };\n\n  const latestTick = ticks.length ? ticks[0] : null;\n  const cursor =\n    sensor.sensorState.typeSpecificData &&\n    sensor.sensorState.typeSpecificData.__typename === 'SensorData' &&\n    sensor.sensorState.typeSpecificData.lastCursor;\n\n  const running = status === InstigationStatus.RUNNING;\n\n  return (\n    <>\n      <PageHeader\n        title={\n          <Subtitle1 style={{display: 'flex', flexDirection: 'row', gap: 4}}>\n            <Link to=\"/automation\">Automation</Link>\n            <span>/</span>\n            {name}\n          </Subtitle1>\n        }\n        icon=\"sensors\"\n        tags={\n          <Tag icon=\"sensors\">\n            Sensor in <RepositoryLink repoAddress={repoAddress} />\n          </Tag>\n        }\n        right={\n          <Box margin={{top: 4}} flex={{direction: 'row', alignItems: 'center', gap: 8}}>\n            <QueryRefreshCountdown refreshState={refreshState} />\n            <EvaluateTickButtonSensor\n              cursor={cursor || ''}\n              name={sensor.name}\n              repoAddress={repoAddress}\n              jobName={sensor.targets?.[0]?.pipelineName || ''}\n              sensorType={sensor.sensorType}\n            />\n          </Box>\n        }\n      />\n      <MetadataTableWIP>\n        <tbody>\n          {sensor.description ? (\n            <tr>\n              <td>Description</td>\n              <td>{sensor.description}</td>\n            </tr>\n          ) : null}\n          {sensor.owners.length > 0 && (\n            <tr>\n              <td>Owners</td>\n              <td>\n                <DefinitionOwners owners={sensor.owners} />\n              </td>\n            </tr>\n          )}\n          <tr>\n            <td>Latest tick</td>\n            <td>\n              {latestTick ? (\n                <>\n                  <Box\n                    flex={{direction: 'row', gap: 8, alignItems: 'center'}}\n                    style={{marginTop: '-2px'}}\n                  >\n                    <TimestampDisplay timestamp={latestTick.timestamp} timeFormat={TIME_FORMAT} />\n                    <TickStatusTag tick={latestTick} tickResultType=\"runs\" />\n                  </Box>\n                </>\n              ) : (\n                'Sensor has never run'\n              )}\n            </td>\n          </tr>\n          {sensor.nextTick && daemonHealth && running && (\n            <tr>\n              <td>Next tick</td>\n              <td>\n                {/* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */}\n                <TimestampDisplay timestamp={sensor.nextTick.timestamp!} timeFormat={TIME_FORMAT} />\n              </td>\n            </tr>\n          )}\n          {(sensor.targets && sensor.targets.length) || assetSelection ? (\n            <tr>\n              <td>Target</td>\n              <TargetCell>\n                <AutomationTargetList\n                  targets={sensor.targets}\n                  repoAddress={repoAddress}\n                  assetSelection={assetSelection || null}\n                  automationType={sensor.sensorType}\n                />\n              </TargetCell>\n            </tr>\n          ) : null}\n          <tr>\n            <td>\n              <Box flex={{alignItems: 'center'}} style={{height: '32px'}}>\n                Running\n              </Box>\n            </td>\n            <td>\n              <Box\n                flex={{direction: 'row', gap: 12, alignItems: 'center'}}\n                style={{height: '32px'}}\n              >\n                <SensorSwitch repoAddress={repoAddress} sensor={sensor} />\n                {sensor.canReset && <SensorResetButton repoAddress={repoAddress} sensor={sensor} />}\n              </Box>\n            </td>\n          </tr>\n          <tr>\n            <td>Frequency</td>\n            <td>{humanizeSensorInterval(sensor.minIntervalSeconds)}</td>\n          </tr>\n          {metadata.assetKeys && metadata.assetKeys.length ? (\n            <tr>\n              <td>Monitored assets</td>\n              <td>\n                <SensorMonitoredAssets metadata={metadata} />\n              </td>\n            </tr>\n          ) : null}\n          {sensor.sensorType !== SensorType.AUTO_MATERIALIZE &&\n          sensor.sensorType !== SensorType.AUTOMATION ? (\n            <tr>\n              <td>\n                <Box flex={{alignItems: 'center'}} style={{height: '32px'}}>\n                  Cursor\n                </Box>\n              </td>\n              <td>\n                <Box flex={{direction: 'row', gap: 12, alignItems: 'center'}}>\n                  <span style={{fontFamily: FontFamily.monospace, fontSize: '14px'}}>\n                    {cursor ? humanizeSensorCursor(cursor) : 'None'}\n                  </span>\n                  <Tooltip\n                    canShow={!sensor.hasCursorUpdatePermissions}\n                    content={DEFAULT_DISABLED_REASON}\n                  >\n                    <Button\n                      icon={<Icon name=\"edit\" />}\n                      disabled={!sensor.hasCursorUpdatePermissions}\n                      onClick={() => setCursorEditing(true)}\n                    >\n                      {cursor !== humanizeSensorCursor(cursor) ? 'View Raw / Edit' : 'Edit'}\n                    </Button>\n                  </Tooltip>\n                </Box>\n                <EditCursorDialog\n                  isOpen={isCursorEditing}\n                  sensorSelector={sensorSelector}\n                  cursor={cursor ? cursor : ''}\n                  onClose={() => setCursorEditing(false)}\n                />\n              </td>\n            </tr>\n          ) : null}\n          <SensorAlertDetails repoAddress={repoAddress} sensorName={name} />\n        </tbody>\n      </MetadataTableWIP>\n    </>\n  );\n};\n\nconst TargetCell = styled.td`\n  button {\n    line-height: 20px;\n  }\n`;\n"],"names":["TickLogDialog","tickId","timestamp","instigationSelector","isOpen","onClose","Dialog","style","width","maxWidth","minWidth","title","span","name","TimestampDisplay","timeFormat","showSeconds","QueryfulTickLogsTable","Box","background","Colors","zIndex","position","DialogFooter","topBorder","Button","onClick","data","loading","useQuery","TICK_LOG_EVENTS_QUERY","variables","notifyOnNetworkStatusChange","events","instigationStateOrError","__typename","tick","logEvents","undefined","height","flex","justifyContent","alignItems","SpinnerWithText","label","length","direction","InstigationEventLogTable","tickStatus","status","instigationType","instigationLoggingDocsUrl","padding","vertical","NonIdealState","icon","description","gap","div","action","ExternalAnchorButton","href","rightIcon","Icon","gql","INSTIGATION_EVENT_LOG_FRAGMENT","SCHEDULE_ASSET_SELECTIONS_QUERY","AUTOMATION_ASSET_SELECTION_FRAGMENT","PYTHON_ERROR_FRAGMENT","Page","styled","TickStatusTag","tickResultType","isStuckStarted","showErrors","setShowErrors","useState","tag","useMemo","requestedItem","InstigationTickStatus","STARTED","Tag","intent","SKIPPED","BaseTag","fillColor","runKeys","message","Tooltip","content","skipReason","FAILURE","error","ButtonLink","SUCCESS","count","requestedAssetMaterializationCount","runIds","successTag","ifPlural","DialogBody","PythonErrorInfo","COLOR_MAP","HoverColorMap","LiveTickTimeline","ticks","onHoverTick","onSelectTick","exactRange","timeRange","MINUTE","tickGrid","timeAfter","now","Date","isPaused","setPaused","useEffect","interval","setInterval","setNow","REFRESH_INTERVAL","clearInterval","maxX","minX","showNowLine","fullRange","viewport","containerProps","useViewport","ticksReversed","filter","endTimestamp","reverse","ticksToDisplay","map","i","viewportWidth","startX","getX","endX","isStuckStartedTick","Math","max","MIN_WIDTH","tickGridDelta","startTickGridX","ceil","numTicks","numLabels","gridTicks","ii","time","push","x","showLabel","marginRight","TicksWrapper","GridTick","transform","GridTickLine","GridTickTime","Caption","Timestamp","ms","Tick","onMouseEnter","onMouseLeave","TickTooltip","id","NowIndicator","TimeAxisWrapper","memo","runs","startTime","dayjs","endTime","elapsedTime","to","as","unix","color","RUN_REQUEST_FRAGMENT","AutomationTargetList","assetSelection","automationType","targets","repoAddress","repo","useRepository","visibleTargets","isHiddenAssetGroupJob","target","pipelineName","AssetSelectionTag","tooltipText","PipelineReference","pipelineHrefContext","isJob","isThisThingAJob","showDialog","setShowDialog","assetsOrError","checks","assets","assetsWithAMP","assetsWithoutAMP","nodes","assetChecks","slice","sort","sortItemAssetCheck","a","key","sortItemAssetKey","asset","definition","automationCondition","selectedTab","setSelectedTab","initialTab","assetSelectionString","isAllAssets","Link","assetDetailsPathForKey","displayNameForAssetKey","assetDetailsPathForAssetCheck","labelForAssetCheck","splitConditioned","SensorType","AUTO_MATERIALIZE","AUTOMATION","canOutsideClickClose","canEscapeKeyClose","horizontal","border","Subtitle2","Mono","top","Tabs","size","selectedTabId","Tab","disabled","maxHeight","minHeight","VirtualizedItemListForDialog","items","renderItem","renderItemAssetCheck","itemBorders","renderItemAssetKey","showCustomAlert","body","YAML_SYNTAX_INVALID","onlyKeyAndValue","value","buildExecutionParamsListSensor","sensorExecutionData","sensorSelector","jobName","executionParamsList","evaluationResult","runRequests","forEach","request","configYamlOrEmpty","sanitizeConfigYamlString","runConfigYaml","yaml","repositoryLocationName","repositoryName","executionParams","runConfigData","selector","asAssetKeyInput","assetCheckSelection","asAssetCheckHandleInput","solidSelection","mode","executionMetadata","tags","scheduleExecutionData","scheduleSelector","RunRequestTable","selectedRequest","setSelectedRequest","visibleDialog","setVisibleDialog","tbody","data-testid","testId","index","tr","runKey","td","verticalAlign","showIcon","textAlign","PreviewButton","RunConfigDialog","Table","borderRight","tableLayout","thead","th","placement","Chart","register","zoomPlugin","TickStatusDisplay","STATUS_DISPLAY_MAP","TicksTable","queryResult","showLogsForTick","tabs","setTimerange","setParentStatuses","setTickStatus","useQueryPersistedState","queryKey","defaults","showDetailsForTick","setShowDetailsForTick","setShowLogsForTick","repoAddressToSelector","statuses","React","paginationProps","useCursorPaginatedQuery","nextCursorForResult","PAGE_SIZE","getResultArray","query","TICK_HISTORY_QUERY","pageSize","useQueryRefreshAtInterval","FIFTEEN_SECONDS","state","hasPrevCursor","start","end","Array","from","reset","Spinner","purpose","StatusFilter","onChange","TableWrapper","InstigationType","SENSOR","TickRow","onShowDetails","onShowLogs","marginTop","CursorHistoryControls","TickDetailsDialog","activeItem","find","Select","popoverProps","filterable","itemRenderer","item","props","MenuItem","active","modifiers","handleClick","text","itemListRenderer","filteredItems","renderedItems","Boolean","Menu","onItemSelect","display","TickHistoryTimeline","onHighlightRunIds","beforeTimestamp","afterTimestamp","selectedTickId","setSelectedTickId","encode","decode","qs","pollingPaused","pausePolling","limit","Subheading","onTickClick","onTickHover","addedPartitions","deletedPartitions","requests","dynamicPartitionsRequestResults","countPartitionsAddedOrDeleted","DynamicPartitionsRequestType","ADD_PARTITIONS","DELETE_PARTITIONS","showTimezone","TimeElapsed","startUnix","endUnix","cursor","fontFamily","FontFamily","monospace","fontSize","overflow","MiddleTruncate","humanizeSensorCursor","CopyIconButton","RunStatusLink","run","RUN_STATUS_FRAGMENT","TICK_TAG_FRAGMENT","HISTORY_TICK_FRAGMENT","SENSOR_FRAGMENT","INSTIGATION_STATE_FRAGMENT","SensorInfo","sensorDaemonStatus","assetDaemonStatus","boxProps","warnForSensor","healthy","required","warnForAssets","Alert","rel","SensorPreviousRuns","sensor","DagsterTag","SensorName","RepositoryLabelTag","repoAddressAsTag","RunsFeedTableWithFilters","includeRunsFromBackfills","actionBarComponents","SensorRoot","selectionQueryResult","useTrackPageView","sensorName","useParams","useDocumentTitle","setStatuses","view","raw","SENSOR_ROOT_QUERY","SENSOR_ASSET_SELECTIONS_QUERY","refreshState1","refreshState2","refreshState","useMergedRefresh","ButtonGroup","activeItems","Set","buttons","margin","sensorOrError","Redirect","instance","isAutomationSensor","sensorType","daemonHealth","SensorDetails","INSTANCE_HEALTH_FRAGMENT","useLaunchMultipleRunsWithTelemetry","launchMultipleRuns","useMutation","LAUNCH_MULTIPLE_RUNS_MUTATION","logTelemetry","useTelemetryAction","history","useHistory","useCallback","behavior","isArray","jobNames","params","includes","metadata","opSelection","finalized","paramsWithUIExecutionTags","result","handleLaunchMultipleResult","TelemetryAction","LAUNCH_MULTIPLE_RUNS","console","showLaunchError","THREE_DAYS_MS","type","reduce","sum","partitionKeys","SensorAlertDetails","SensorMonitoredAssets","assetKeys","AssetLink","path","join","SensorResetButton","resetSensor","toggleOnInFlight","RESET_SENSOR_MUTATION","onCompleted","displaySensorMutationErrors","hasPermission","sensorState","hasStartPermission","hasStopPermission","tooltipContent","defaultStatus","DEFAULT_DISABLED_REASON","wordBreak","DynamicPartitionRequests","includeTitle","rows","partitionsDefName","def","grow","SensorDryRunDialog","SensorDryRun","currentCursor","trackEvent","useTrackEvent","sensorDryRun","EVALUATE_SENSOR_MUTATION","setCursorMutation","SET_CURSOR_MUTATION","createPartition","CREATE_PARTITION_MUTATION","deletePartition","DELETE_DYNAMIC_PARTITIONS_MUTATION","setCursor","submitting","setSubmitting","launching","setLaunching","setError","setSensorExecutionData","location","dynamicPartitionRequests","dynamicPartitionsRequests","submitTest","selectorData","assertUnreachable","onCommitTickResult","setSensorCursor","showSharedToaster","underline","launchMultipleRunsWithTelemetry","canApply","onApply","Promise","all","partitionKey","repositorySelector","e","leftButtons","rightButtons","numRunRequests","didSkip","canShow","Grid","pre","marginBottom","SkipReasonNonIdealStateWrapper","br","ComputedCursorGrid","TextInput","placeholder","left","NonIdealStateWrapper","EvaluateTickButtonSensor","showTestTickDialog","setShowTestTickDialog","STANDARD","TIME_FORMAT","startsWith","cursorObj","JSON","parse","Object","entries","pair","k","v","isCursorEditing","setCursorEditing","latestTick","typeSpecificData","lastCursor","running","InstigationStatus","RUNNING","PageHeader","Subtitle1","flexDirection","RepositoryLink","right","QueryRefreshCountdown","MetadataTableWIP","owners","DefinitionOwners","nextTick","TargetCell","SensorSwitch","canReset","humanizeSensorInterval","minIntervalSeconds","hasCursorUpdatePermissions","EditCursorDialog"],"sourceRoot":"","ignoreList":[]}