{"version":3,"file":"static/chunks/805.4cdc420b332fcdc2.js","mappings":"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","sources":["webpack://_N_E/../ui-core/src/instance/StepSummaryForRun.tsx","webpack://_N_E/../ui-core/src/runs/RunStatusPez.tsx","webpack://_N_E/../ui-core/src/workspace/SingleJobQuery.tsx","webpack://_N_E/../ui-core/src/instance/JobMenu.tsx","webpack://_N_E/../ui-core/src/workspace/VirtualizedObserveJobRow.tsx","webpack://_N_E/../ui-core/src/overview/OverviewJobsTable.tsx","webpack://_N_E/../ui-core/src/jobs/JobsPageContent.tsx","webpack://_N_E/../ui-core/src/jobs/JobsRoot.tsx","webpack://_N_E/../ui-core/src/runs/RunActionButtons.tsx","webpack://_N_E/../ui-core/src/overview/visibleRepoKeys.tsx"],"sourcesContent":["import {Caption, Colors} from '@dagster-io/ui-components';\nimport qs from 'qs';\nimport {useMemo} from 'react';\nimport {Link} from 'react-router-dom';\n\nimport {gql, useQuery} from '../apollo-client';\nimport {\n  StepSummaryForRunQuery,\n  StepSummaryForRunQueryVariables,\n} from './types/StepSummaryForRun.types';\nimport {StepEventStatus} from '../graphql/types';\nimport {failedStatuses, inProgressStatuses} from '../runs/RunStatuses';\n\ninterface Props {\n  runId: string;\n}\n\nexport const StepSummaryForRun = (props: Props) => {\n  const {runId} = props;\n  const queryResult = useQuery<StepSummaryForRunQuery, StepSummaryForRunQueryVariables>(\n    STEP_SUMMARY_FOR_RUN_QUERY,\n    {\n      variables: {runId},\n    },\n  );\n  const {data} = queryResult;\n\n  const run = data?.pipelineRunOrError;\n  const status = run?.__typename === 'Run' ? run.status : null;\n\n  const relevantSteps = useMemo(() => {\n    if (run?.__typename !== 'Run') {\n      return [];\n    }\n\n    const {status} = run;\n    if (failedStatuses.has(status)) {\n      return run.stepStats.filter((step) => step.status === StepEventStatus.FAILURE);\n    }\n\n    if (inProgressStatuses.has(status)) {\n      return run.stepStats.filter((step) => step.status === StepEventStatus.IN_PROGRESS);\n    }\n\n    return [];\n  }, [run]);\n\n  const stepCount = relevantSteps.length;\n\n  if (!stepCount || !status) {\n    return null;\n  }\n\n  if (failedStatuses.has(status)) {\n    if (stepCount === 1) {\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      const step = relevantSteps[0]!;\n      const query = step.endTime\n        ? qs.stringify({focusedTime: Math.floor(step.endTime * 1000)}, {addQueryPrefix: true})\n        : '';\n      return (\n        <Caption color={Colors.textLight()}>\n          Failed at <Link to={`/runs/${runId}${query}`}>{step.stepKey}</Link>\n        </Caption>\n      );\n    }\n    return (\n      <Caption color={Colors.textLight()}>\n        Failed at <Link to={`/runs/${runId}`}>{stepCount} steps</Link>\n      </Caption>\n    );\n  }\n\n  if (inProgressStatuses.has(status)) {\n    if (stepCount === 1) {\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      const step = relevantSteps[0]!;\n      const query = step.endTime\n        ? qs.stringify({focusedTime: Math.floor(step.endTime * 1000)}, {addQueryPrefix: true})\n        : '';\n      return (\n        <Caption color={Colors.textLight()}>\n          In progress at <Link to={`/runs/${runId}${query}`}>{step.stepKey}</Link>\n        </Caption>\n      );\n    }\n    return (\n      <Caption color={Colors.textLight()}>\n        In progress at <Link to={`/runs/${runId}`}>{stepCount} steps</Link>\n      </Caption>\n    );\n  }\n\n  return null;\n};\n\nconst STEP_SUMMARY_FOR_RUN_QUERY = gql`\n  query StepSummaryForRunQuery($runId: ID!) {\n    pipelineRunOrError(runId: $runId) {\n      ... on Run {\n        id\n        status\n        stepStats {\n          endTime\n          stepKey\n          status\n        }\n      }\n    }\n  }\n`;\n","import {Box, CaptionMono, Colors, FontFamily, Popover} from '@dagster-io/ui-components';\nimport {Link} from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport {RunStatusIndicator} from './RunStatusDots';\nimport {RUN_STATUS_COLORS} from './RunStatusTag';\nimport {failedStatuses, inProgressStatuses} from './RunStatuses';\nimport {RunStateSummary, RunTime, titleForRun} from './RunUtils';\nimport {RunTimeFragment} from './types/RunUtils.types';\nimport {RunStatus} from '../graphql/types';\nimport {StepSummaryForRun} from '../instance/StepSummaryForRun';\nimport {PezItem} from '../ui/PezItem';\n\nconst MIN_OPACITY = 0.2;\nconst MAX_OPACITY = 1.0;\nconst MIN_OPACITY_STEPS = 3;\n\ninterface Props {\n  opacity?: number;\n  runId: string;\n  status: RunStatus;\n}\n\nexport const RunStatusPez = (props: Props) => {\n  const {status, opacity = MAX_OPACITY} = props;\n  const color = RUN_STATUS_COLORS[status];\n\n  return <Pez $color={color} $opacity={opacity} />;\n};\n\ninterface ListProps {\n  fade: boolean;\n  jobName: string;\n  runs: RunTimeFragment[];\n  forceCount?: number;\n}\n\nexport const RunStatusPezList = (props: ListProps) => {\n  const {fade, jobName, runs, forceCount} = props;\n  const count = runs.length;\n  const countForStep = Math.max(MIN_OPACITY_STEPS, count);\n  const step = (MAX_OPACITY - MIN_OPACITY) / countForStep;\n\n  let items: (RunTimeFragment | null)[] = [...runs];\n  if (forceCount) {\n    if (forceCount > items.length) {\n      items.unshift(...Array(forceCount - items.length).fill(null));\n    } else {\n      items = items.slice(0, forceCount);\n    }\n  }\n\n  return (\n    <Box flex={{direction: 'row', alignItems: 'center', gap: 2}}>\n      {items.map((run, ii) => {\n        const opacity = fade ? MAX_OPACITY - (count - ii - 1) * step : 1.0;\n        if (!run) {\n          return (\n            <PezItem key={`empty-${ii}`} color={Colors.backgroundLighter()} opacity={opacity} />\n          );\n        }\n\n        return (\n          <Popover\n            key={run.id}\n            position=\"top\"\n            interactionKind=\"hover\"\n            content={\n              <div>\n                <RunStatusOverlay run={run} name={jobName} />\n              </div>\n            }\n            hoverOpenDelay={100}\n          >\n            <PezItem key={run.id} color={RUN_STATUS_COLORS[run.status]} opacity={opacity} />\n          </Popover>\n        );\n      })}\n    </Box>\n  );\n};\n\ninterface OverlayProps {\n  run: RunTimeFragment;\n  name: string;\n}\n\nexport const RunStatusOverlay = ({name, run}: OverlayProps) => {\n  return (\n    <OverlayContainer>\n      <OverlayTitle>{name}</OverlayTitle>\n      <RunRow>\n        <Box flex={{alignItems: 'center', direction: 'row', gap: 8}}>\n          <RunStatusIndicator status={run.status} />\n          <Link to={`/runs/${run.id}`}>\n            <CaptionMono>{titleForRun(run)}</CaptionMono>\n          </Link>\n        </Box>\n        <Box flex={{direction: 'column', gap: 4}}>\n          <RunTime run={run} />\n          <RunStateSummary run={run} />\n        </Box>\n      </RunRow>\n      {failedStatuses.has(run.status) || inProgressStatuses.has(run.status) ? (\n        <SummaryContainer>\n          <StepSummaryForRun runId={run.id} />\n        </SummaryContainer>\n      ) : null}\n    </OverlayContainer>\n  );\n};\n\nconst OverlayContainer = styled.div`\n  padding: 4px;\n  font-size: 12px;\n  width: 240px;\n`;\n\nconst OverlayTitle = styled.div`\n  padding: 8px;\n  box-shadow: inset 0 -1px ${Colors.keylineDefault()};\n  font-family: ${FontFamily.default};\n  font-size: 14px;\n  font-weight: 500;\n  color: ${Colors.textDefault()};\n  max-width: 100%;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  min-width: 0px;\n`;\n\nconst RunRow = styled.div`\n  padding: 8px;\n  display: flex;\n  align-items: flex-start;\n  justify-content: space-between;\n`;\n\nconst SummaryContainer = styled.div`\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  padding: 4px 8px 8px;\n\n  :empty {\n    display: none;\n  }\n`;\n\nconst Pez = styled.div<{$color: string; $opacity: number}>`\n  background-color: ${({$color}) => $color};\n  border-radius: 2px;\n  height: 16px;\n  opacity: ${({$opacity}) => $opacity};\n  width: 8px;\n`;\n","import {gql} from '../apollo-client';\nimport {RUN_TIME_FRAGMENT} from '../runs/RunUtils';\nimport {SCHEDULE_SWITCH_FRAGMENT} from '../schedules/ScheduleSwitchFragment';\nimport {SENSOR_SWITCH_FRAGMENT} from '../sensors/SensorSwitchFragment';\n\nexport const SINGLE_JOB_QUERY = gql`\n  query SingleJobQuery($selector: PipelineSelector!) {\n    pipelineOrError(params: $selector) {\n      ... on Pipeline {\n        id\n        name\n        isJob\n        isAssetJob\n        description\n        runs(limit: 5) {\n          id\n          ...RunTimeFragment\n        }\n        schedules {\n          id\n          ...ScheduleSwitchFragment\n        }\n        sensors {\n          id\n          ...SensorSwitchFragment\n        }\n      }\n    }\n  }\n\n  ${RUN_TIME_FRAGMENT}\n  ${SCHEDULE_SWITCH_FRAGMENT}\n  ${SENSOR_SWITCH_FRAGMENT}\n`;\n","import {Button, Icon, Menu, MenuItem, Popover, Spinner, Tooltip} from '@dagster-io/ui-components';\nimport {useCallback} from 'react';\n\nimport {gql, useLazyQuery} from '../apollo-client';\nimport {RunReExecutionQuery, RunReExecutionQueryVariables} from './types/JobMenu.types';\nimport {DEFAULT_DISABLED_REASON} from '../app/Permissions';\nimport {useLazyJobPermissions} from '../app/useJobPermissions';\nimport {useMaterializationAction} from '../assets/LaunchAssetExecutionButton';\nimport {EXECUTION_PLAN_TO_GRAPH_FRAGMENT} from '../gantt/toGraphQueryItems';\nimport {ReexecutionStrategy} from '../graphql/types';\nimport {canRunAllSteps, canRunFromFailure} from '../runs/RunActionButtons';\nimport {useJobReexecution} from '../runs/useJobReExecution';\nimport {MenuLink} from '../ui/MenuLink';\nimport {RepoAddress} from '../workspace/types';\nimport {workspacePipelinePath} from '../workspace/workspacePath';\n\ninterface Props {\n  job: {isJob: boolean; name: string; runs: {id: string}[]};\n  repoAddress: RepoAddress;\n  isAssetJob: boolean | 'loading';\n}\n\n/**\n * Lazily load more information about the last run for this job, then use that data to inform\n * whether re-execution is possible.\n */\nexport const JobMenu = (props: Props) => {\n  const {job, isAssetJob, repoAddress} = props;\n  const lastRun = job.runs.length ? job.runs[0] : null;\n  const pipelineSelector = {\n    pipelineName: job.name,\n    repositoryName: repoAddress.name,\n    repositoryLocationName: repoAddress.location,\n  };\n\n  const materialize = useMaterializationAction(job.name);\n  const reexecute = useJobReexecution();\n\n  const [fetchHasJobPermissions, {hasLaunchExecutionPermission, hasLaunchReexecutionPermission}] =\n    useLazyJobPermissions(pipelineSelector, repoAddress.location);\n  const [fetchHasExecutionPlan, queryResult] = useLazyQuery<\n    RunReExecutionQuery,\n    RunReExecutionQueryVariables\n  >(RUN_RE_EXECUTION_QUERY);\n\n  const {data} = queryResult;\n\n  const fetchIfPossible = useCallback(() => {\n    if (lastRun?.id) {\n      fetchHasExecutionPlan({variables: {runId: lastRun.id}});\n    }\n    fetchHasJobPermissions();\n  }, [lastRun, fetchHasExecutionPlan, fetchHasJobPermissions]);\n\n  const run = data?.pipelineRunOrError.__typename === 'Run' ? data?.pipelineRunOrError : null;\n  const executeItem =\n    isAssetJob === 'loading' ? (\n      <MenuItem icon=\"execute\" text=\"Loading...\" disabled={true} />\n    ) : isAssetJob === true ? (\n      <MenuItem\n        icon={materialize.loading ? <Spinner purpose=\"caption-text\" /> : 'execute'}\n        text=\"Launch new run\"\n        disabled={!hasLaunchExecutionPermission}\n        onClick={(e) => materialize.onClick(pipelineSelector, e)}\n      />\n    ) : (\n      <MenuLink\n        icon=\"execute\"\n        text=\"Launch new run\"\n        disabled={!hasLaunchExecutionPermission}\n        to={workspacePipelinePath({\n          repoName: repoAddress.name,\n          repoLocation: repoAddress.location,\n          pipelineName: job.name,\n          isJob: job.isJob,\n          path: '/playground',\n        })}\n      />\n    );\n\n  const reExecuteAllItem = (\n    <MenuItem\n      icon=\"replay\"\n      text=\"Re-execute latest run\"\n      disabled={!hasLaunchReexecutionPermission || !run || !canRunAllSteps(run)}\n      onClick={(e) =>\n        run ? reexecute.onClick(run, ReexecutionStrategy.ALL_STEPS, e.shiftKey) : undefined\n      }\n    />\n  );\n\n  const reExecuteFromFailureItem = (\n    <MenuItem\n      icon=\"sync_problem\"\n      text=\"Re-execute latest run from failure\"\n      disabled={!hasLaunchReexecutionPermission || !run || !canRunFromFailure(run)}\n      onClick={(e) =>\n        run ? reexecute.onClick(run, ReexecutionStrategy.FROM_FAILURE, e.shiftKey) : undefined\n      }\n    />\n  );\n\n  return (\n    <>\n      {materialize.launchpadElement}\n      {reexecute.launchpadElement}\n      <Popover\n        onOpened={() => fetchIfPossible()}\n        content={\n          <Menu>\n            <MenuLink\n              to={workspacePipelinePath({\n                repoName: repoAddress.name,\n                repoLocation: repoAddress.location,\n                pipelineName: job.name,\n                isJob: job.isJob,\n              })}\n              icon=\"job\"\n              text=\"View job\"\n            />\n            <MenuLink\n              to={workspacePipelinePath({\n                repoName: repoAddress.name,\n                repoLocation: repoAddress.location,\n                pipelineName: job.name,\n                isJob: job.isJob,\n                path: '/runs',\n              })}\n              icon=\"checklist\"\n              text=\"View all recent runs\"\n            />\n            {hasLaunchExecutionPermission ? (\n              executeItem\n            ) : (\n              <Tooltip content={DEFAULT_DISABLED_REASON} display=\"block\">\n                {executeItem}\n              </Tooltip>\n            )}\n            {hasLaunchReexecutionPermission ? (\n              reExecuteAllItem\n            ) : (\n              <Tooltip content={DEFAULT_DISABLED_REASON} display=\"block\">\n                {reExecuteAllItem}\n              </Tooltip>\n            )}\n            {hasLaunchReexecutionPermission ? (\n              reExecuteFromFailureItem\n            ) : (\n              <Tooltip content={DEFAULT_DISABLED_REASON} display=\"block\">\n                {reExecuteFromFailureItem}\n              </Tooltip>\n            )}\n          </Menu>\n        }\n        position=\"bottom-left\"\n      >\n        <Button icon={<Icon name=\"more_horiz\" />} intent=\"none\" />\n      </Popover>\n    </>\n  );\n};\n\nconst RUN_RE_EXECUTION_QUERY = gql`\n  query RunReExecutionQuery($runId: ID!) {\n    pipelineRunOrError(runId: $runId) {\n      ... on Run {\n        id\n        status\n        pipelineName\n        tags {\n          key\n          value\n        }\n        executionPlan {\n          artifactsPersisted\n          assetKeys {\n            path\n          }\n          ...ExecutionPlanToGraphFragment\n        }\n      }\n    }\n  }\n  ${EXECUTION_PLAN_TO_GRAPH_FRAGMENT}\n`;\n","import {\n  Box,\n  Colors,\n  HorizontalControls,\n  HoverButton,\n  Icon,\n  ListItem,\n  MiddleTruncate,\n  Popover,\n  Skeleton,\n  Tooltip,\n  useDelayedState,\n} from '@dagster-io/ui-components';\nimport {forwardRef, useMemo} from 'react';\nimport {Link} from 'react-router-dom';\n\nimport {SINGLE_JOB_QUERY} from './SingleJobQuery';\nimport {TimeFromNow} from '../ui/TimeFromNow';\nimport {SingleJobQuery, SingleJobQueryVariables} from './types/SingleJobQuery.types';\nimport {JobMenu} from '../instance/JobMenu';\nimport {RunStatusOverlay, RunStatusPezList} from '../runs/RunStatusPez';\nimport {buildPipelineSelector} from './WorkspaceContext/util';\nimport {RepoAddress} from './types';\nimport {workspacePathFromAddress} from './workspacePath';\nimport {useQuery} from '../apollo-client';\nimport {FIFTEEN_SECONDS, useQueryRefreshAtInterval} from '../app/QueryRefresh';\nimport {ScheduleSwitch} from '../schedules/ScheduleSwitch';\nimport {humanCronString} from '../schedules/humanCronString';\nimport {ScheduleSwitchFragment} from '../schedules/types/ScheduleSwitchFragment.types';\nimport {SensorSwitch} from '../sensors/SensorSwitch';\nimport {SensorSwitchFragment} from '../sensors/types/SensorSwitchFragment.types';\n\ninterface JobRowProps {\n  index: number;\n  name: string;\n  isJob: boolean;\n  repoAddress: RepoAddress;\n}\n\nexport const VirtualizedObserveJobRow = forwardRef(\n  (props: JobRowProps, ref: React.ForwardedRef<HTMLDivElement>) => {\n    const {index, name, isJob, repoAddress} = props;\n\n    // Wait 100ms before querying in case we're scrolling the table really fast\n    const shouldQuery = useDelayedState(100);\n    const queryResult = useQuery<SingleJobQuery, SingleJobQueryVariables>(SINGLE_JOB_QUERY, {\n      variables: {\n        selector: buildPipelineSelector(repoAddress, name),\n      },\n      skip: !shouldQuery,\n    });\n    useQueryRefreshAtInterval(queryResult, FIFTEEN_SECONDS);\n\n    const {data} = queryResult;\n    const pipeline =\n      data?.pipelineOrError.__typename === 'Pipeline' ? data?.pipelineOrError : undefined;\n\n    const {schedules, sensors} = useMemo(() => {\n      if (pipeline) {\n        const {schedules, sensors} = pipeline;\n        return {schedules, sensors};\n      }\n      return {schedules: [], sensors: []};\n    }, [pipeline]);\n\n    const latestRuns = useMemo(() => {\n      if (pipeline) {\n        const {runs} = pipeline;\n        if (runs.length) {\n          return [...runs];\n        }\n      }\n      return [];\n    }, [pipeline]);\n\n    const right = () => {\n      if (queryResult.loading && !queryResult.data) {\n        return <Skeleton $width={200} $height={24} />;\n      }\n\n      return (\n        <HorizontalControls\n          controls={[\n            {\n              key: 'latest-run',\n              control: latestRuns[0]?.startTime ? (\n                <Popover\n                  key={latestRuns[0].id}\n                  position=\"top\"\n                  interactionKind=\"hover\"\n                  content={\n                    <div>\n                      <RunStatusOverlay run={latestRuns[0]} name={name} />\n                    </div>\n                  }\n                  hoverOpenDelay={100}\n                >\n                  <HoverButton>\n                    <TimeFromNow unixTimestamp={latestRuns[0].startTime} showTooltip={false} />\n                  </HoverButton>\n                </Popover>\n              ) : null,\n            },\n            {\n              key: 'runs',\n              control: (\n                <Box padding={{horizontal: 8}}>\n                  <RunStatusPezList\n                    jobName={name}\n                    runs={[...latestRuns].reverse()}\n                    fade\n                    forceCount={5}\n                  />\n                </Box>\n              ),\n            },\n            {\n              key: 'schedules',\n              control:\n                schedules.length > 0 ? (\n                  <AutomationButton\n                    type=\"schedule\"\n                    enabled={schedules.some(\n                      (schedule) => schedule.scheduleState.status === 'RUNNING',\n                    )}\n                    automations={schedules}\n                    repoAddress={repoAddress}\n                  />\n                ) : null,\n            },\n            {\n              key: 'sensors',\n              control:\n                sensors.length > 0 ? (\n                  <AutomationButton\n                    type=\"sensor\"\n                    enabled={sensors.some((sensor) => sensor.sensorState.status === 'RUNNING')}\n                    automations={sensors}\n                    repoAddress={repoAddress}\n                  />\n                ) : null,\n            },\n            {\n              key: 'automations',\n              control:\n                sensors.length === 0 && schedules.length === 0 ? (\n                  <Tooltip content=\"No automations\" placement=\"top\">\n                    <AutomationButton type=\"none\" />\n                  </Tooltip>\n                ) : null,\n            },\n            {\n              key: 'menu',\n              control: (\n                <JobMenu\n                  job={{name, isJob, runs: latestRuns}}\n                  isAssetJob={pipeline ? pipeline.isAssetJob : 'loading'}\n                  repoAddress={repoAddress}\n                />\n              ),\n            },\n          ]}\n        />\n      );\n    };\n\n    return (\n      <ListItem\n        ref={ref}\n        index={index}\n        href={workspacePathFromAddress(repoAddress, `/jobs/${name}`)}\n        renderLink={({href, ...props}) => <Link to={href || '#'} {...props} />}\n        left={\n          <Box flex={{direction: 'row', gap: 12, alignItems: 'center'}}>\n            <Box flex={{direction: 'row', gap: 8, alignItems: 'center'}}>\n              <Icon name=\"job\" />\n              {name}\n            </Box>\n            {pipeline?.description ? (\n              <Tooltip\n                content={<div style={{width: 320}}>{pipeline.description}</div>}\n                placement=\"top\"\n              >\n                <Icon name=\"info\" color={Colors.textLight()} />\n              </Tooltip>\n            ) : null}\n          </Box>\n        }\n        right={right()}\n      />\n    );\n  },\n);\n\ntype AutomationType = 'sensor' | 'schedule' | 'none';\n\ninterface AutomationButtonProps {\n  type: AutomationType;\n  enabled?: boolean;\n  automations?: ScheduleSwitchFragment[] | SensorSwitchFragment[];\n  repoAddress?: RepoAddress;\n}\n\nconst AutomationButton = ({type, automations, enabled, repoAddress}: AutomationButtonProps) => {\n  const icon = () => {\n    if (type === 'none') {\n      return <Icon name=\"status\" color={Colors.accentGray()} />;\n    }\n\n    return <Icon name={type} color={enabled ? Colors.accentGreen() : Colors.accentGray()} />;\n  };\n\n  const button = (\n    <HoverButton>\n      <Box padding={{vertical: 2}}>{icon()}</Box>\n    </HoverButton>\n  );\n\n  if (type === 'none') {\n    return button;\n  }\n\n  const count = automations?.length || 0;\n  const headerText =\n    type === 'sensor'\n      ? count === 1\n        ? '1 sensor'\n        : `${count} sensors`\n      : count === 1\n        ? '1 schedule'\n        : `${count} schedules`;\n\n  return (\n    <Popover\n      position=\"top\"\n      interactionKind=\"hover\"\n      content={\n        <Box\n          flex={{direction: 'column'}}\n          style={{width: 320, overflowX: 'hidden'}}\n          background={Colors.backgroundLighter()}\n        >\n          <Box\n            flex={{direction: 'row', gap: 8, alignItems: 'center'}}\n            padding={{vertical: 12, horizontal: 12}}\n            border=\"bottom\"\n          >\n            <strong style={{fontSize: 14}}>{headerText}</strong>\n          </Box>\n          <div style={{overflowY: 'auto', maxHeight: 240}}>\n            {automations?.length && repoAddress ? (\n              automations.map((automation, ii) => {\n                const displayName =\n                  automation.__typename === 'Sensor'\n                    ? automation.name\n                    : humanCronString(automation.cronSchedule, {\n                        longTimezoneName: automation.executionTimezone || 'UTC',\n                      });\n                return (\n                  <Box\n                    key={automation.id + '-' + ii}\n                    flex={{\n                      direction: 'row',\n                      gap: 12,\n                      alignItems: 'center',\n                      justifyContent: 'space-between',\n                    }}\n                    padding={12}\n                    border={ii === 0 ? null : 'top'}\n                  >\n                    <Box\n                      flex={{direction: 'row', alignItems: 'center', gap: 8}}\n                      style={{width: '100%', overflow: 'hidden'}}\n                    >\n                      <Icon name={automation.__typename === 'Schedule' ? 'schedule' : 'sensor'} />\n                      <Link\n                        to={workspacePathFromAddress(\n                          repoAddress,\n                          automation.__typename === 'Schedule'\n                            ? `/schedules/${automation.name}`\n                            : `/sensors/${automation.name}`,\n                        )}\n                        style={{flex: 1, overflow: 'hidden', width: '100%'}}\n                      >\n                        <MiddleTruncate text={displayName} />\n                      </Link>\n                    </Box>\n                    <Box flex={{direction: 'row', alignItems: 'center', gap: 8}}>\n                      {automation.__typename === 'Schedule' ? (\n                        <ScheduleSwitch schedule={automation} repoAddress={repoAddress} />\n                      ) : (\n                        <SensorSwitch sensor={automation} repoAddress={repoAddress} />\n                      )}\n                    </Box>\n                  </Box>\n                );\n              })\n            ) : (\n              <div>No automations</div>\n            )}\n          </div>\n        </Box>\n      }\n      hoverOpenDelay={100}\n    >\n      {button}\n    </Popover>\n  );\n};\n","import {useVirtualizer} from '@tanstack/react-virtual';\nimport {useMemo, useRef} from 'react';\n\nimport {OVERVIEW_COLLAPSED_KEY} from './OverviewExpansionKey';\nimport {Container, Inner, TABLE_HEADER_HEIGHT} from '../ui/VirtualizedTable';\nimport {findDuplicateRepoNames} from '../ui/findDuplicateRepoNames';\nimport {useRepoExpansionState} from '../ui/useRepoExpansionState';\nimport {VirtualizedObserveJobRow} from '../workspace/VirtualizedObserveJobRow';\nimport {DynamicRepoRow} from '../workspace/VirtualizedWorkspaceTable';\nimport {repoAddressAsHumanString} from '../workspace/repoAddressAsString';\nimport {RepoAddress} from '../workspace/types';\n\ntype Repository = {\n  repoAddress: RepoAddress;\n  jobs: {\n    isJob: boolean;\n    name: string;\n  }[];\n};\n\ninterface Props {\n  repos: Repository[];\n}\n\ntype RowType =\n  | {type: 'header'; repoAddress: RepoAddress; jobCount: number}\n  | {type: 'job'; repoAddress: RepoAddress; isJob: boolean; name: string};\n\nexport const OverviewJobsTable = ({repos}: Props) => {\n  const parentRef = useRef<HTMLDivElement | null>(null);\n  const allKeys = useMemo(\n    () => repos.map(({repoAddress}) => repoAddressAsHumanString(repoAddress)),\n    [repos],\n  );\n\n  const {expandedKeys, onToggle, onToggleAll} = useRepoExpansionState(\n    OVERVIEW_COLLAPSED_KEY,\n    allKeys,\n  );\n\n  const flattened: RowType[] = useMemo(() => {\n    const flat: RowType[] = [];\n    repos.forEach(({repoAddress, jobs}) => {\n      flat.push({type: 'header', repoAddress, jobCount: jobs.length});\n      const repoKey = repoAddressAsHumanString(repoAddress);\n      if (expandedKeys.includes(repoKey)) {\n        jobs.forEach(({isJob, name}) => {\n          flat.push({type: 'job', repoAddress, isJob, name});\n        });\n      }\n    });\n    return flat;\n  }, [repos, expandedKeys]);\n\n  const duplicateRepoNames = findDuplicateRepoNames(repos.map(({repoAddress}) => repoAddress.name));\n\n  const rowVirtualizer = useVirtualizer({\n    count: flattened.length,\n    getScrollElement: () => parentRef.current,\n    estimateSize: (ii: number) => {\n      const row = flattened[ii];\n      return row?.type === 'header' ? TABLE_HEADER_HEIGHT : 64;\n    },\n    overscan: 10,\n  });\n\n  const totalHeight = rowVirtualizer.getTotalSize();\n  const items = rowVirtualizer.getVirtualItems();\n\n  return (\n    <div style={{overflow: 'hidden'}}>\n      <Container ref={parentRef}>\n        <Inner $totalHeight={totalHeight}>\n          <div\n            style={{\n              position: 'absolute',\n              top: 0,\n              left: 0,\n              width: '100%',\n              transform: `translateY(${items[0]?.start ?? 0}px)`,\n            }}\n          >\n            {items.map(({index, key}) => {\n              // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n              const row: RowType = flattened[index]!;\n              // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n              const type = row!.type;\n\n              if (type === 'header') {\n                return (\n                  <DynamicRepoRow\n                    key={key}\n                    repoAddress={row.repoAddress}\n                    ref={rowVirtualizer.measureElement}\n                    index={index}\n                    onToggle={onToggle}\n                    onToggleAll={onToggleAll}\n                    expanded={expandedKeys.includes(repoAddressAsHumanString(row.repoAddress))}\n                    showLocation={duplicateRepoNames.has(row.repoAddress.name)}\n                    rightElement={<></>}\n                  />\n                );\n              }\n\n              return (\n                <VirtualizedObserveJobRow\n                  key={key}\n                  index={index}\n                  ref={rowVirtualizer.measureElement}\n                  name={row.name}\n                  isJob={row.isJob}\n                  repoAddress={row.repoAddress}\n                />\n              );\n            })}\n          </div>\n        </Inner>\n      </Container>\n    </div>\n  );\n};\n","import {Box, Colors, NonIdealState, Spinner, SpinnerWithText} from '@dagster-io/ui-components';\nimport {useContext, useMemo} from 'react';\n\nimport {isHiddenAssetGroupJob} from '../asset-graph/Utils';\nimport {useQueryPersistedState} from '../hooks/useQueryPersistedState';\nimport {filterJobSelectionByQuery} from '../job-selection/AntlrJobSelection';\nimport {JobSelectionInput} from '../job-selection/input/JobSelectionInput';\nimport {OverviewJobsTable} from '../overview/OverviewJobsTable';\nimport {sortRepoBuckets} from '../overview/sortRepoBuckets';\nimport {visibleRepoKeys} from '../overview/visibleRepoKeys';\nimport {WorkspaceContext} from '../workspace/WorkspaceContext/WorkspaceContext';\nimport {WorkspaceLocationNodeFragment} from '../workspace/WorkspaceContext/types/WorkspaceQueries.types';\nimport {buildRepoAddress} from '../workspace/buildRepoAddress';\nimport {repoAddressAsHumanString} from '../workspace/repoAddressAsString';\n\nexport const JobsPageContent = () => {\n  const {\n    allRepos,\n    visibleRepos,\n    loadingNonAssets: loading,\n    data: cachedData,\n  } = useContext(WorkspaceContext);\n  const repoCount = allRepos.length;\n  // Batch up the data and bucket by repo.\n  const repoBuckets = useMemo(() => {\n    const cachedEntries = Object.values(cachedData).filter(\n      (location): location is Extract<typeof location, {__typename: 'WorkspaceLocationEntry'}> =>\n        location.__typename === 'WorkspaceLocationEntry',\n    );\n    const visibleKeys = visibleRepoKeys(visibleRepos);\n    return buildBuckets(cachedEntries).filter(({repoAddress}) =>\n      visibleKeys.has(repoAddressAsHumanString(repoAddress)),\n    );\n  }, [cachedData, visibleRepos]);\n\n  const [selection, setSelection] = useQueryPersistedState<string>({\n    queryKey: 'selection',\n    defaults: {selection: ''},\n    behavior: 'push',\n  });\n\n  const allJobs = useMemo(() => {\n    return repoBuckets.flatMap((bucket) => bucket.jobs);\n  }, [repoBuckets]);\n\n  const filteredJobs = useMemo(() => {\n    return filterJobSelectionByQuery(allJobs, selection).all;\n  }, [allJobs, selection]);\n\n  const filteredRepoBuckets = useMemo(() => {\n    return repoBuckets\n      .filter((bucket) => {\n        return Array.from(filteredJobs).some(\n          (job) =>\n            job.repo.name === bucket.repoAddress.name &&\n            job.repo.location === bucket.repoAddress.location,\n        );\n      })\n      .map((bucket) => ({\n        ...bucket,\n        jobs: bucket.jobs.filter((job) => {\n          return filteredJobs.has(job);\n        }),\n      }))\n      .filter((bucket) => !!bucket.jobs.length);\n  }, [repoBuckets, filteredJobs]);\n\n  const content = () => {\n    if (loading) {\n      return (\n        <Box flex={{direction: 'row', justifyContent: 'center'}} style={{paddingTop: '100px'}}>\n          <Box flex={{direction: 'row', alignItems: 'center', gap: 16}}>\n            <Spinner purpose=\"body-text\" />\n            <div style={{color: Colors.textLight()}}>Loading jobs</div>\n          </Box>\n        </Box>\n      );\n    }\n\n    if (!filteredRepoBuckets.length) {\n      return (\n        <Box padding={{top: 20}}>\n          <NonIdealState\n            icon=\"search\"\n            title=\"No jobs\"\n            description={\n              repoBuckets.length\n                ? 'No jobs were found that match your filters'\n                : 'No jobs were found in your definitions'\n            }\n          />\n        </Box>\n      );\n    }\n\n    return <OverviewJobsTable repos={filteredRepoBuckets} />;\n  };\n\n  return (\n    <>\n      <Box padding={{horizontal: 24, vertical: 12}} border=\"bottom\">\n        <JobSelectionInput items={allJobs} value={selection} onChange={setSelection} />\n      </Box>\n      {loading && !repoCount ? (\n        <Box padding={64} flex={{direction: 'row', justifyContent: 'center'}}>\n          <SpinnerWithText label=\"Loading jobs\" />\n        </Box>\n      ) : (\n        content()\n      )}\n    </>\n  );\n};\n\nconst buildBuckets = (\n  locationEntries: Extract<WorkspaceLocationNodeFragment, {__typename: 'WorkspaceLocationEntry'}>[],\n) => {\n  const entries = locationEntries.map((entry) => entry.locationOrLoadError);\n  const buckets = [];\n\n  for (const entry of entries) {\n    if (entry?.__typename !== 'RepositoryLocation') {\n      continue;\n    }\n\n    for (const repo of entry.repositories) {\n      const {name, pipelines} = repo;\n      const repoAddress = buildRepoAddress(name, entry.name);\n      const jobs = pipelines\n        .filter(({name}) => !isHiddenAssetGroupJob(name))\n        .map((job) => ({\n          ...job,\n          repo: {\n            name: repoAddress.name,\n            location: repoAddress.location,\n          },\n        }));\n\n      if (jobs.length > 0) {\n        buckets.push({\n          repoAddress,\n          jobs,\n        });\n      }\n    }\n  }\n\n  return sortRepoBuckets(buckets);\n};\n","import {Box, PageHeader, Subtitle1} from '@dagster-io/ui-components';\n\nimport {JobsPageContent} from './JobsPageContent';\nimport {useTrackPageView} from '../app/analytics';\nimport {useDocumentTitle} from '../hooks/useDocumentTitle';\n\nexport const JobsRoot = () => {\n  useTrackPageView();\n  useDocumentTitle('Jobs');\n\n  return (\n    <Box flex={{direction: 'column'}} style={{height: '100%', overflow: 'hidden'}}>\n      <PageHeader title={<Subtitle1>Jobs</Subtitle1>} />\n      <JobsPageContent />\n    </Box>\n  );\n};\n\n// Imported via React.lazy, which requires a default export.\n// eslint-disable-next-line import/no-default-export\nexport default JobsRoot;\n","import {Box, Button, Icon} from '@dagster-io/ui-components';\nimport {useCallback, useState} from 'react';\n\nimport {IRunMetadataDict, IStepState} from './RunMetadataProvider';\nimport {doneStatuses, failedStatuses} from './RunStatuses';\nimport {DagsterTag} from './RunTag';\nimport {getReexecutionParamsForSelection} from './RunUtils';\nimport {StepSelection} from './StepSelection';\nimport {TerminationDialog, TerminationDialogResult} from './TerminationDialog';\nimport {RunFragment, RunPageFragment} from './types/RunFragments.types';\nimport {useJobAvailabilityErrorForRun} from './useJobAvailabilityErrorForRun';\nimport {useJobReexecution} from './useJobReExecution';\nimport {showSharedToaster} from '../app/DomUtils';\nimport {GraphQueryItem, filterByQuery} from '../app/GraphQueryImpl';\nimport {DEFAULT_DISABLED_REASON} from '../app/Permissions';\nimport {ReexecutionStrategy} from '../graphql/types';\nimport {LaunchButtonConfiguration, LaunchButtonDropdown} from '../launchpad/LaunchButton';\nimport {filterRunSelectionByQuery} from '../run-selection/AntlrRunSelection';\nimport {useRepositoryForRunWithParentSnapshot} from '../workspace/useRepositoryForRun';\n\ninterface RunActionButtonsProps {\n  run: RunPageFragment;\n  selection: StepSelection;\n  graph: GraphQueryItem[];\n  metadata: IRunMetadataDict;\n}\n\nexport const CancelRunButton = ({run}: {run: RunFragment}) => {\n  const {id: runId, canTerminate} = run;\n  const [showDialog, setShowDialog] = useState<boolean>(false);\n  const closeDialog = useCallback(() => setShowDialog(false), []);\n\n  const onComplete = useCallback(\n    async (result: TerminationDialogResult) => {\n      const {errors} = result;\n      const error = runId && errors[runId];\n      if (error && 'message' in error) {\n        await showSharedToaster({\n          message: error.message,\n          icon: 'error',\n          intent: 'danger',\n        });\n      }\n    },\n    [runId],\n  );\n\n  if (!runId) {\n    return null;\n  }\n\n  return (\n    <>\n      <Button\n        icon={<Icon name=\"cancel\" />}\n        intent=\"danger\"\n        disabled={showDialog}\n        onClick={() => setShowDialog(true)}\n      >\n        Terminate\n      </Button>\n      <TerminationDialog\n        isOpen={showDialog}\n        onClose={closeDialog}\n        onComplete={onComplete}\n        selectedRuns={{[runId]: canTerminate}}\n      />\n    </>\n  );\n};\n\nfunction stepSelectionWithState(selection: StepSelection, metadata: IRunMetadataDict) {\n  const stepStates = selection.keys.map(\n    (key) => (key && metadata.steps[key]?.state) || IStepState.PREPARING,\n  );\n\n  return {\n    ...selection,\n    present: selection.keys.length > 0,\n    failed: selection.keys.length && stepStates.includes(IStepState.FAILED),\n    finished: stepStates.every((stepState) =>\n      [IStepState.FAILED, IStepState.SUCCEEDED].includes(stepState),\n    ),\n  };\n}\n\nfunction stepSelectionFromRunTags(\n  run: RunFragment,\n  graph: GraphQueryItem[],\n  metadata: IRunMetadataDict,\n) {\n  const tag = run.tags.find((t) => t.key === DagsterTag.StepSelection);\n  if (!tag) {\n    return null;\n  }\n  return stepSelectionWithState(\n    {keys: filterByQuery(graph, tag.value).all.map((k) => k.name), query: tag.value},\n    metadata,\n  );\n}\n\nexport const canRunAllSteps = (run: Pick<RunFragment, 'status'>) => doneStatuses.has(run.status);\nexport const canRunFromFailure = (run: Pick<RunFragment, 'status' | 'executionPlan'>) =>\n  run.executionPlan && failedStatuses.has(run.status);\n\nexport const RunActionButtons = (props: RunActionButtonsProps) => {\n  const {metadata, graph, run} = props;\n\n  const repoMatch = useRepositoryForRunWithParentSnapshot(run);\n  const jobError = useJobAvailabilityErrorForRun(run);\n\n  const artifactsPersisted = run?.executionPlan?.artifactsPersisted;\n\n  const selection = stepSelectionWithState(props.selection, metadata);\n  const currentRunSelection = stepSelectionFromRunTags(run, graph, metadata);\n  const currentRunIsFromFailure = run.tags?.some(\n    (t) => t.key === DagsterTag.IsResumeRetry && t.value === 'true',\n  );\n\n  const reexecute = useJobReexecution();\n  const reexecuteWithSelection = async (selection: StepSelection) => {\n    if (!run || !repoMatch || !run.pipelineSnapshotId) {\n      return;\n    }\n    const executionParams = getReexecutionParamsForSelection({\n      run,\n      selection,\n      repositoryLocationName: repoMatch.match.repositoryLocation.name,\n      repositoryName: repoMatch.match.repository.name,\n    });\n    await reexecute.onClick(run, executionParams, false);\n  };\n\n  const full: LaunchButtonConfiguration = {\n    icon: 'cached',\n    scope: '*',\n    title: 'All steps in root run',\n    tooltip: 'Re-execute the pipeline run from scratch. Shift-click to adjust tags.',\n    disabled: !canRunAllSteps(run),\n    onClick: (e) => reexecute.onClick(run, ReexecutionStrategy.ALL_STEPS, e.shiftKey),\n  };\n\n  const same: LaunchButtonConfiguration = {\n    icon: 'linear_scale',\n    scope: currentRunSelection?.query || '*',\n    title: 'Same steps',\n    disabled: !currentRunSelection || !(currentRunSelection.finished || currentRunSelection.failed),\n    tooltip: (\n      <div>\n        {!currentRunSelection || !currentRunSelection.present\n          ? 'Re-executes the same step subset used for this run if one was present.'\n          : !currentRunSelection.finished\n            ? 'Wait for all of the steps to finish to re-execute the same subset.'\n            : 'Re-execute the same step subset used for this run:'}\n        <StepSelectionDescription selection={currentRunSelection} />\n      </div>\n    ),\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    onClick: () => reexecuteWithSelection(currentRunSelection!),\n  };\n\n  const selected: LaunchButtonConfiguration = {\n    icon: 'op',\n    scope: selection.query,\n    title: selection.keys.length > 1 ? 'Selected steps' : 'Selected step',\n    disabled: !selection.present || !(selection.finished || selection.failed),\n    tooltip: (\n      <div>\n        {!selection.present\n          ? 'Select a step or type a step subset to re-execute.'\n          : !selection.finished\n            ? 'Wait for the steps to finish to re-execute them.'\n            : 'Re-execute the selected steps with existing configuration:'}\n        <StepSelectionDescription selection={selection} />\n      </div>\n    ),\n    onClick: () => reexecuteWithSelection(selection),\n  };\n\n  const fromSelected: LaunchButtonConfiguration = {\n    icon: 'arrow_forward',\n    title: 'From selected',\n    disabled: !canRunAllSteps(run) || selection.keys.length !== 1,\n    tooltip: 'Re-execute the pipeline downstream from the selected steps.',\n    onClick: async () => {\n      if (!run.executionPlan) {\n        console.warn('Run execution plan must be present to launch from-selected execution');\n        return Promise.resolve();\n      }\n\n      const selectionForPythonFiltering = selection.keys.map((k) => `${k}*`).join(',');\n      const selectionForUIFiltering = selection.keys.map((k) => `name:\"${k}\"+`).join(' or ');\n\n      const selectionKeys = filterRunSelectionByQuery(graph, selectionForUIFiltering).all.map(\n        (node) => node.name,\n      );\n\n      await reexecuteWithSelection({\n        keys: selectionKeys,\n        query: selectionForPythonFiltering,\n      });\n    },\n  };\n\n  const fromFailureEnabled = canRunFromFailure(run);\n\n  const fromFailure: LaunchButtonConfiguration = {\n    icon: 'arrow_forward',\n    title: 'From failure',\n    disabled: !fromFailureEnabled,\n    tooltip: !fromFailureEnabled\n      ? 'Retry is only enabled when the pipeline has failed.'\n      : 'Retry the pipeline run, skipping steps that completed successfully. Shift-click to adjust tags.',\n    onClick: (e) => reexecute.onClick(run, ReexecutionStrategy.FROM_FAILURE, e.shiftKey),\n  };\n\n  const fromAssetFailure: LaunchButtonConfiguration = {\n    icon: 'arrow_forward',\n    title: 'From asset failure',\n    disabled: !fromFailureEnabled,\n    tooltip: !fromFailureEnabled\n      ? 'Retry is only enabled when the pipeline has failed.'\n      : 'Retry the pipeline run, selecting only assets that did not complete successfully. Shift-click to adjust tags.',\n    onClick: (e) => reexecute.onClick(run, ReexecutionStrategy.FROM_ASSET_FAILURE, e.shiftKey),\n  };\n\n  if (!artifactsPersisted) {\n    [selected, same, fromFailure, fromSelected].forEach((option) => {\n      option.disabled = true;\n      option.title =\n        'Retry and re-execute are only enabled on persistent storage. Try rerunning with a different storage configuration.';\n    });\n  }\n\n  const options = [\n    full,\n    same,\n    selected,\n    fromSelected,\n    fromFailure,\n    run.executionPlan?.assetKeys.length ? fromAssetFailure : null,\n  ].filter(Boolean) as LaunchButtonConfiguration[];\n  const preferredRerun = selection.present\n    ? selected\n    : fromFailureEnabled && currentRunIsFromFailure\n      ? fromFailure\n      : currentRunSelection?.present\n        ? same\n        : null;\n\n  const primary = artifactsPersisted && preferredRerun ? preferredRerun : full;\n\n  const tooltip = () => {\n    if (jobError?.tooltip) {\n      return jobError?.tooltip;\n    }\n    return run.hasReExecutePermission ? undefined : DEFAULT_DISABLED_REASON;\n  };\n\n  return (\n    <Box flex={{direction: 'row', gap: 8}}>\n      <Box flex={{direction: 'row'}}>\n        <LaunchButtonDropdown\n          runCount={1}\n          primary={primary}\n          options={options}\n          title={\n            primary.scope === '*'\n              ? `Re-execute all (*)`\n              : primary.scope\n                ? `Re-execute (${primary.scope})`\n                : `Re-execute ${primary.title}`\n          }\n          tooltip={tooltip()}\n          icon={jobError?.icon}\n          disabled={jobError?.disabled || !run.hasReExecutePermission}\n        />\n      </Box>\n      {!doneStatuses.has(run.status) ? <CancelRunButton run={run} /> : null}\n      {reexecute.launchpadElement}\n    </Box>\n  );\n};\n\nconst StepSelectionDescription = ({selection}: {selection: StepSelection | null}) => (\n  <div style={{paddingLeft: '10px'}}>\n    {(selection?.keys || []).map((step) => (\n      <span key={step} style={{display: 'block'}}>{`* ${step}`}</span>\n    ))}\n  </div>\n);\n","import {DagsterRepoOption} from '../workspace/WorkspaceContext/util';\nimport {buildRepoAddress} from '../workspace/buildRepoAddress';\nimport {repoAddressAsHumanString} from '../workspace/repoAddressAsString';\n\nexport const visibleRepoKeys = (visibleRepos: DagsterRepoOption[]) => {\n  return new Set(\n    visibleRepos.map((option) =>\n      repoAddressAsHumanString(\n        buildRepoAddress(option.repository.name, option.repositoryLocation.name),\n      ),\n    ),\n  );\n};\n"],"names":["StepSummaryForRun","props","runId","data","useQuery","queryResult","STEP_SUMMARY_FOR_RUN_QUERY","variables","run","status","__typename","relevantSteps","useMemo","failedStatuses","has","stepStats","filter","step","StepEventStatus","FAILURE","inProgressStatuses","IN_PROGRESS","stepCount","length","query","endTime","qs","focusedTime","Math","floor","addQueryPrefix","Caption","color","Colors","Link","to","stepKey","gql","RunStatusPezList","fade","jobName","runs","forceCount","count","max","MIN_OPACITY_STEPS","items","countForStep","unshift","Array","fill","slice","Box","flex","direction","alignItems","gap","map","ii","opacity","MAX_OPACITY","Popover","position","interactionKind","content","div","RunStatusOverlay","name","hoverOpenDelay","PezItem","RUN_STATUS_COLORS","id","OverlayContainer","OverlayTitle","RunRow","RunStatusIndicator","CaptionMono","titleForRun","RunTime","RunStateSummary","SummaryContainer","styled","FontFamily","default","$color","$opacity","SINGLE_JOB_QUERY","RUN_TIME_FRAGMENT","SCHEDULE_SWITCH_FRAGMENT","SENSOR_SWITCH_FRAGMENT","JobMenu","job","isAssetJob","repoAddress","lastRun","pipelineSelector","pipelineName","repositoryName","repositoryLocationName","location","materialize","useMaterializationAction","reexecute","useJobReexecution","fetchHasJobPermissions","hasLaunchExecutionPermission","hasLaunchReexecutionPermission","useLazyJobPermissions","fetchHasExecutionPlan","useLazyQuery","RUN_RE_EXECUTION_QUERY","fetchIfPossible","useCallback","pipelineRunOrError","executeItem","MenuItem","icon","text","disabled","loading","Spinner","purpose","onClick","e","MenuLink","workspacePipelinePath","repoName","repoLocation","isJob","path","reExecuteAllItem","canRunAllSteps","ReexecutionStrategy","ALL_STEPS","shiftKey","undefined","reExecuteFromFailureItem","canRunFromFailure","FROM_FAILURE","launchpadElement","onOpened","Menu","Tooltip","DEFAULT_DISABLED_REASON","display","Button","Icon","intent","EXECUTION_PLAN_TO_GRAPH_FRAGMENT","VirtualizedObserveJobRow","forwardRef","ref","index","shouldQuery","useDelayedState","selector","buildPipelineSelector","skip","useQueryRefreshAtInterval","FIFTEEN_SECONDS","pipeline","pipelineOrError","schedules","sensors","latestRuns","ListItem","href","workspacePathFromAddress","renderLink","left","description","style","width","placement","right","Skeleton","$width","$height","HorizontalControls","controls","key","control","startTime","HoverButton","TimeFromNow","unixTimestamp","showTooltip","padding","horizontal","reverse","AutomationButton","type","enabled","some","schedule","scheduleState","automations","sensor","sensorState","button","vertical","overflowX","background","border","strong","fontSize","headerText","overflowY","maxHeight","automation","displayName","humanCronString","cronSchedule","longTimezoneName","executionTimezone","justifyContent","overflow","MiddleTruncate","ScheduleSwitch","SensorSwitch","OverviewJobsTable","repos","parentRef","useRef","allKeys","repoAddressAsHumanString","expandedKeys","onToggle","onToggleAll","useRepoExpansionState","OVERVIEW_COLLAPSED_KEY","flattened","flat","forEach","jobs","push","jobCount","repoKey","includes","duplicateRepoNames","findDuplicateRepoNames","rowVirtualizer","useVirtualizer","getScrollElement","current","estimateSize","row","TABLE_HEADER_HEIGHT","overscan","totalHeight","getTotalSize","getVirtualItems","Container","Inner","$totalHeight","top","transform","start","DynamicRepoRow","measureElement","expanded","showLocation","rightElement","JobsPageContent","allRepos","visibleRepos","loadingNonAssets","cachedData","useContext","WorkspaceContext","repoCount","repoBuckets","cachedEntries","Object","values","visibleKeys","visibleRepoKeys","buildBuckets","selection","setSelection","useQueryPersistedState","queryKey","defaults","behavior","allJobs","flatMap","bucket","filteredJobs","filterJobSelectionByQuery","all","filteredRepoBuckets","from","repo","JobSelectionInput","value","onChange","SpinnerWithText","label","paddingTop","NonIdealState","title","entries","locationEntries","entry","locationOrLoadError","buckets","repositories","pipelines","buildRepoAddress","isHiddenAssetGroupJob","sortRepoBuckets","JobsRoot","useTrackPageView","useDocumentTitle","height","PageHeader","Subtitle1","CancelRunButton","canTerminate","showDialog","setShowDialog","useState","closeDialog","onComplete","result","errors","error","showSharedToaster","message","TerminationDialog","isOpen","onClose","selectedRuns","stepSelectionWithState","metadata","stepStates","keys","steps","state","IStepState","PREPARING","present","failed","FAILED","finished","every","SUCCEEDED","stepState","doneStatuses","executionPlan","RunActionButtons","graph","repoMatch","useRepositoryForRunWithParentSnapshot","jobError","useJobAvailabilityErrorForRun","artifactsPersisted","currentRunSelection","stepSelectionFromRunTags","tag","tags","find","t","DagsterTag","StepSelection","filterByQuery","k","currentRunIsFromFailure","IsResumeRetry","reexecuteWithSelection","pipelineSnapshotId","executionParams","getReexecutionParamsForSelection","match","repositoryLocation","repository","full","scope","tooltip","same","StepSelectionDescription","selected","fromSelected","console","warn","Promise","resolve","selectionForPythonFiltering","join","selectionForUIFiltering","selectionKeys","filterRunSelectionByQuery","node","fromFailureEnabled","fromFailure","option","options","assetKeys","fromAssetFailure","FROM_ASSET_FAILURE","Boolean","preferredRerun","primary","LaunchButtonDropdown","runCount","hasReExecutePermission","paddingLeft","span","Set"],"sourceRoot":"","ignoreList":[]}